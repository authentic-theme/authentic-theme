/*!
 * Authentic Theme (https://github.com/authentic-theme/authentic-theme)
 * Copyright Ilia Rostovtsev <programming@rostovtsev.io>
 * Licensed under MIT (https://github.com/authentic-theme/authentic-theme/blob/master/LICENSE)
 */
function __f___globals(){$____loader_block__=1,$____loader_block__manual=0,$g__v__home_base=Math.random(),$v__fm__container_fluid=".container-fluid",$v__fm__container_fluid_form=".container-fluid #list_form",$v__fm__container_fluid_modal_in=".container-fluid .modal.in",$v__fm__global_error=0,$v__fm__global_last_row=0,$v__fm__tree_node_prog=0,$v__fm__tree_node_sp=1,$v__fm__tree=0,$($v__fm__container_fluid).addClass("fmx"),$v__fm__container_fluid+=".fmx",tab___to______create=1}function uriEncodeParam(e,t){var a=URI.parseQuery(URI(e).query())[t];return a&&(e=e.replace(a,Convert.uriEncodeComponent(a)),e=e.replace("//","/")),e}function _f__table(){var e=$(".container-fluid .tab-pane.active").attr("id");if(e&&e.length){var t=parseInt(e.replace(/^\D+/g,""));return window["_f__table"+t]}return!1}function __f__refresh__dir_and_tree(){var e=$($v__fm__container_fluid+" #path").val();__f____r("get","index.cgi?path="+(e?Convert.uriEncodeComponent(e):""),!1,0),!config_portable_module_filemanager_hide_tree_view&&tree_update_node()}function __f__state__changed(){$(".paginate_button:visible").length||$(".jsPanel").length||$(".modal.in").length||$(".__o__f_m-search-results-data").length||"config.cgi"==v___location_file||__f__refresh__dir_and_tree()}function __f__cnt___selected(){var e=_f__table();if(e)var t=e.dataTable().$("tr.hl-aw",{filter:"applied"}).length;return t}function __r____changed(){if($("body").attr("class")&&$("body").attr("class").indexOf(v___module_file_manager)>-1){$(".total_size_data").parent("span").addClass("hidden");var e=__f__cnt___selected();e?__f___ub():__f___lb(),$(".total_selected").html(1==e?theme_language("theme_xhred_filemanager_selected_entry").replace("%value","<span>1</span>"):theme_language("theme_xhred_filemanager_selected_entries").replace("%value","<span>"+e+"</span>"))}}function f__ck_init_err(e){var t=!$($v__fm__container_fluid_form).length&&$('a.page_footer_submit[href*="index.cgi?path="]').length,a=$(".container-fluid-loading").find(".cspinner-icon").length;if(e)return t;t&&($v__fm__global_error=1,$(".data-content-container, .panel-heading .header .btn-group, .panel-heading .header .favorites").addClass("hidden"),a&&page.handle.content.preloader(),__f_____undel())}function __f___b_dr(e){var t="";t=$($v__fm__container_fluid+" .breadcrumb li:first-child a i").hasClass("fa-search")?"index.cgi?path="+Convert.uriEncodeComponent($('#list_form > input[type="hidden"][name="path"]').val()):$($v__fm__container_fluid+" .breadcrumb > li:eq(-2) > a").attr("href"),t||(t="index.cgi?path="),__f____r("get",t,!1,0,!1,void 0!==e.originalEvent),$($v__fm__container_fluid_form).find(".cspinner").remove(),$($v__fm__container_fluid+" .active i.fa-folder-btl").after('<span class="cspinner" style="margin-top: 1px; margin-left: 20px;"><span class="cspinner-icon smaller"></span></span>')}function __f___o_dr(e,t,a,_){a&&($($v__fm__container_fluid_form).find(".cspinner").remove(),e.first().find("img").before('<span class="cspinner" style="margin-top: 3px; margin-left: -18px;"><span class="cspinner-icon smaller"></span></span>'),__f____r("get","index.cgi?path="+Convert.uriEncodeComponent(Convert.htmlUnEscape(t))+"/"+Convert.uriEncodeComponent(Convert.htmlUnEscape(a)),!1,0,!1,_))}function f__insert_dir_up(){var e=$("#path").val();e&&"/"!=e&&"%2F"!=e&&!$($v__fm__container_fluid+" .active table tbody tr.directory_go_up").length&&$($v__fm__container_fluid+" .active table tbody").prepend('<tr class="ui_checked_columns directory_go_up" style="height: 23px;"><td colspan="'+$($v__fm__container_fluid+" .active thead tr th:visible").length+'"><input class="hidden" type="hidden">&nbsp;<i class="fa fa-fw fa-folder-btl"></i>&nbsp;..</td></tr>')}function __f___um(){var e=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode");return e?"&username="+e:""}function f__act_tab_name(e){$($v__fm__container_fluid+" [data-tab-path]").filter(function(t,a){if(e.endsWith($(a).text())||$(a).text()===e||"/"===$(a).text()&&""===e)return void $(a).parent("a").trigger("click")})}function f__rm_tab_path(e,t){var a=uri_parse_param("path",v___location),_=v___server_username,n=JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs"));if($t_uri_virtualmin&&(_+="_"+$('[name="dom"]').val()),"/"!==a&&"%2F"!==a||(a=""),n&&n[_]&&(n[_][0]===a||n[_].filter(function(e){return e===a}).length))var i=setInterval(function(){var e=$($v__fm__container_fluid+' a[href="#tab-1"] i.fa-close-box').parents("li");if($tabsCloseButton=e.find("i.fa-close-box"),!e.hasClass("disabled"))return clearInterval(i),$($v__fm__container_fluid+' a[href="#tab-1"] i.fa-close-box').trigger("click"),void f__act_tab_name(a)},10)}function f__chk_loading(){if(v___module==v___module_file_manager){if(f__ck_init_err(1))return void f__ck_init_err();var e=$("[data-tab-path]");e.find(".cspinner-icon").length||e.parents("li").hasClass("disabled")?setTimeout(f__chk_loading,200):(setTimeout(function(){$.support.transition&&($.support.transition=!1);var e=get_last_tabs();if("object"==typeof e&&e&&!$t_uri_virtualmin){var t=e[v___server_username];if(t){var a=$($v__fm__container_fluid+" .nav.nav-tabs a").find('[data-original-title="'+t+'"]');a.length&&a.first().parent("a").tab("show")}}!$.support.transition&&($.support.transition={end:"webkitTransitionEnd"}),page.handle.content.preloader(),tree_view_get(),__f__c__m()},400),f__rm_tab_path(!1,2),setTimeout(function(){$.getScript(v___server_extensions_path+"/file-manager/file-manager-reinit."+v___source_type+".js?"+v___theme_version_plain)},400))}}function __f___gd(){var e=$(_f__table().fnGetNodes()).find("input").add($($v__fm__container_fluid+" .active form > input:not([name='path'])")).serialize();return e=e+"&path="+$($v__fm__container_fluid+" #path").val()}function _f__gr(e){return e?$(_f__table().fnGetNodes()).find("input:checked"):$(_f__table().fnGetNodes()).find("input")}function __f__ld__sh(){}function __f__ld__bg(){theme_modal_dismiss(),__f_____ul()}function __f__upd_____tl(e){var t=$($v__fm__container_fluid+" div.total").children().clone();$($v__fm__container_fluid+" div.total").empty().html(e+".&nbsp;").append(t)}function __f__ck_lock(){return $("body.file-manager").find($v__fm__container_fluid_form+" table tbody").hasClass("o__f_m-updating")}function __f___ub(){$($v__fm__container_fluid+" div button.o__f_m-button-delete").removeClass("disabled").attr("onclick","removeDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chmod").removeClass("disabled").find("a").attr("onclick","chmodDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chown").removeClass("disabled").find("a").attr("onclick","chownDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chattr").removeClass("disabled").find("a").attr("onclick","chattrDialog()"),$($v__fm__container_fluid+" .o__f_m-button-chcon").removeClass("disabled").find("a").attr("onclick","chconDialog()"),$($v__fm__container_fluid+" .o__f_m-button-compress").removeClass("disabled").find("a").attr("onclick","compressDialog()"),$($v__fm__container_fluid+" .o__f_m-button-copy").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-cut").removeClass("disabled"),__f__cond_l()}function __f___lb(){$($v__fm__container_fluid+" div button.o__f_m-button-delete").addClass("disabled").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chmod").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chown").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chattr").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-chcon").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-compress").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-copy").addClass("disabled").find("a").removeAttr("onclick"),$($v__fm__container_fluid+" .o__f_m-button-cut").addClass("disabled").find("a").removeAttr("onclick"),__f__cond_l()}function __f__cond_l(){var e=__f__cnt___selected(),t=e&&e.length?e.length:0,a=$($v__fm__container_fluid+" .o__f_m-button-symlink");1===t?a.removeClass("disabled"):a.addClass("disabled")}function __f_____sl(){}function __f_____hl(){}function __f_____hl_(){setTimeout(function(){},750)}function __f_____undel(){var e=$("body"),t='.breadcrumb:visible [data-toggle="popover-path"]';e.undelegate(t,"inserted.bs.popover shown.bs.popover hide.bs.popover");var t=$v__fm__container_fluid+' [data-toggle="popover-path"]';e.undelegate(t,"hide.bs.popover");var t=$v__fm__container_fluid+' a[data-toggle="tab"]';e.undelegate(t,"hide.bs.tab show.bs.tab shown.bs.tab");var t="click.fm click.fmcmenu contextmenu.fm submit.fm change.fm mouseleave.fm mouseenter.fm mouseup.fm mouseout.fm mouseover.fm mousemove.fm input.fm keyup.fm keydown.fm keypress.fm sortupdate.fm resize.fm";e.off(t),$("body *").undelegate(t).unbind(t).off(t)}function __f__dw__dir(e){var t=$($v__fm__container_fluid+" #path").val(),a=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),_=a?a:v___server_username,n=0==config_portable_module_filemanager_force_tar?1:0,i=id=parseInt(1e3*Math.random()),o=new Date,r=o.getFullYear()+"."+(o.getMonth()+1)+"."+o.getDate()+"_"+o.getHours()+"."+o.getMinutes()+"."+o.getSeconds(),l="download-"+r+"-"+_+"-("+v___server_hostname+")";plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_preparing_download").replace("%number",e).replace("%dots",'...&nbsp;&nbsp;&nbsp;<span class="cspinner"><span class="cspinner-icon white smallest margined-top-4"></span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span data-cancel-preparing-download-'+i+' class="cancel-preparing-download fa fa-fw fa-lg fa-times-circle pull-right cursor-pointer margined-top-2 margined-right--20"></span>'),0,"info","preparing_download_"+i,0),$("[data-cancel-preparing-download-"+i+"]").one("click",function(){window["preparing_download_"+i].abort(),window["Messenger_preparing_download_"+i].update({hideAfter:3,type:"error",message:'<i class="fa fa-lg fa-fw fa-times-circle"></i>'+theme_language("theme_xhred_filemanager_canceled_download")}),$.ajax({type:"GET",url:v___server_extensions_path+"/file-manager/download.cgi?cancel=1&filename="+l+"&path="+t+"&do_zip="+n+"&module="+v___module_file_manager+__f___um()})}),window["preparing_download_"+i]=$.ajax({xhr:function(){return new window.XMLHttpRequest},type:"POST",url:v___server_extensions_path+"/file-manager/download.cgi?filename="+l+"&do_zip="+n+"&module="+v___module_file_manager+__f___um(),data:__f___gd(),dataType:"text",success:function(a){if(Test.strContains(a,v___page_signin_form))return void(v___available_session=0);window.location.replace(v___server_extensions_path+"/file-manager/download.cgi?download=1&filename="+l+"&path="+t+"&do_zip="+n+"&module="+v___module_file_manager+__f___um()),window["Messenger_preparing_download_"+i].update({hideAfter:5,type:"success",message:'<i class="fa fa-fw fa-download-cloud"></i>'+theme_language("theme_xhred_filemanager_prepared_download").replace("%number",e).replace("%dots","...")})},error:function(e){}})}function __f_____lo(e,t){t===!0&&($("body.file-manager").find("#list_form table tbody").addClass(e?" o__f_m-updating":""),$("body.file-manager").find("ul.pagination").addClass("pointer-events-none"),$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled"),$("#file-manager-new-instance").addClass("disabled_no_styling cursor-na")),__f_____sl()}function __f_____ul(){$("body.file-manager").find("#list_form table tbody").css("opacity","1").removeClass("o__f_m-updating"),$("body.file-manager").find("ul.pagination").css("opacity","1").removeClass("pointer-events-none"),__f_____hl(),$($v__fm__container_fluid+" .btn-group.pull-right > .btn-group > button, "+$v__fm__container_fluid+" .nav.nav-tabs li").removeClass("disabled"),$("#file-manager-new-instance").removeClass("disabled_no_styling cursor-na")}function __init__dt_ck__e(){$($v__fm__container_fluid+" .active td.dataTables_empty").length?($($v__fm__container_fluid+" .active table").attr("style","border-top-width: 1px !important;"),$($v__fm__container_fluid+" .active td.dataTables_empty").css({padding:"4px","border-top-color":"#eaeaea"}),$($v__fm__container_fluid+" .dataTables_paginate").addClass("hidden"),$($v__fm__container_fluid+" .active td.dataTables_empty").attr("colspan",parseInt($(".active thead tr th:visible").length)),setTimeout(function(){$($v__fm__container_fluid+" .__o__f_m-search-results").length&&$($v__fm__container_fluid+" td.dataTables_empty").html(theme_language("theme_xhred_datatable_no_search_results"))},0)):($($v__fm__container_fluid+" .active table, .active td.dataTables_empty").removeAttr("style"),$($v__fm__container_fluid+" .dataTables_paginate").removeClass("hidden"))}function __f____success(e,t,a,_,n,i,o,r,l,s,d,f,c,m,u){function p(e){var e=e.replace(/\\/g,""),t=JSON.parse(e),a='<div class="margined-left-40">';return $.each(t,function(e,t){a+="<strong>• "+Convert.htmlEscape(e)+"</strong> - "+Convert.htmlEscape(t)+"<br>"}),a+="</div>"}var g=$.parseHTML(e),h=$(g[2]).html()&&$(g[2]).html().length,v=$(g[3]).html()&&$(g[3]).html().length,b=void 0!==u&&u,x=Convert.htmlEscape($($v__fm__container_fluid+" .active form input#path").val()),w=1,y=1,k=1;if(b&&"compress"==b[0]){var C=Convert.htmlEscape(b[1]),D=Convert.htmlEscape(b[2]);x!=C&&(w=0,y=0,k=0,h?plugins.messenger.post('<i class="fa fa-lg fa-fw '+(v?"fa-exclamation-circle":i)+'"></i>'+(theme_language("theme_xhred_filemanager_successful_compression_bg_with_errors").replace("%file",D).replace("%path",C)+p($(g[2]).text())),r,l,m+"_"+l):plugins.messenger.post('<i class="fa fa-lg fa-fw '+s+'"></i>'+theme_language("theme_xhred_filemanager_successful_compression_bg").replace("%file",D).replace("%path",C),f,"info",m+"_"+c))}h&&w?plugins.messenger.post('<i class="fa fa-lg fa-fw '+(v?"fa-exclamation-circle":i)+'"></i>'+theme_language(o+(v?"_fatal":""))+p($(g[2]).text()),r,v?"error":l,m+"_"+l):y&&plugins.messenger.post('<i class="fa fa-lg fa-fw '+s+'"></i>'+theme_language(d),f,c,m+"_"+c),n&&$("."+n).remove(),v||(t&&__f_____ul(),a&&theme_modal_dismiss(),_&&k&&(__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,!1,!1,$(g[0]).text()),tree_update_node()))}function __f____a(e,t){"extract"===e&&tree_update_node();var a=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();if("bookmark"!=e&&__f_____lo(!1,!0),"copy"!==e&&"cut"!==e||(__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/"+e+".cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);localStorage.removeItem(v___server_hostname+"-cut"),localStorage.removeItem(v___server_hostname+"-copy"),localStorage.setItem(v___server_hostname+"-"+e,1),$($v__fm__container_fluid+" .o__f_m-button-paste").removeClass("disabled"),"copy"===e?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clone"></i>'+theme_language("theme_xhred_filemanager_copying_successful"),1.5,"info",e+"_info"):"cut"===e&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-scissors"></i>'+theme_language("theme_xhred_filemanager_cutting_successful"),1.5,"warning",e+"_warning"),__f_____ul()},error:function(t){plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_buffer_error"),10,"error",e+"_error")}})),"paste"===e){__f__ld__sh();var _={count:"file-manager-response_count",type:"file-manager-response"},n=function(e){for(var t in e)document.cookie=_[t]+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/;"};$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(a)+"&module="+v___module_file_manager,data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);theme_message_dismiss("paste_info"),g=$.parseHTML(t);var i="1"==get_cookie(_.count)?1:2,o=get_cookie(_.type);n(_),(!o||o&&o.length&&o.indexOf("err")===-1)&&(localStorage.removeItem(v___server_hostname+"-cut"),localStorage.getItem(v___server_hostname+"-copy")||$($v__fm__container_fluid+" .o__f_m-button-paste").addClass("disabled")),"err"==o?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+$(g[2]).html(),20,"warning",e+"_warning"),__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()),tree_update_node()):"merr"==o?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_move_into_self"),10,"error",e+"_error"),__f_____ul()):"ep"==o?bootbox.dialog({message:theme_language("theme_xhred_filemanager_target_conflict_message_"+i),title:'<i class="fa fa-fw fa-exclamation-circle font-size-80p bootbox-o__f_m-save-prompt">&nbsp;&nbsp;</i> <strong class="font-size-90p">'+theme_language("theme_xhred_filemanager_target_conflict_"+i)+"</strong>",buttons:{success:{label:'&nbsp;<i class="fa fa-fw fa-clipboard">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_target_conflict_paste")+"&nbsp;&nbsp;",className:"btn-primary vertical-align-top ",callback:function(){$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(a)+"&module="+v___module_file_manager+"&ua=2",data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);t=$.parseHTML(t),$(t[2]).html().length>1?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+$(t[2]).html(),15,"warning",e+"_warning"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_copying_"+i),5,"success",e+"_success"),__f___u("upd",$(t[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(t[0]).text()),tree_update_node(),n(_)},error:function(e){n(_)}})}},danger:{label:'&nbsp;<i class="fa fa-fw fa-times-circle-o">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_target_conflict_replace")+"&nbsp;&nbsp;",className:"btn-danger vertical-align-top margined-left--2",callback:function(){$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/paste.cgi?path="+Convert.uriEncodeComponent(a)+"&module="+v___module_file_manager+"&ua=1",data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);t=$.parseHTML(t),$(t[2]).html().length>1?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-question-circle"></i>'+$(t[2]).html(),15,"warning",e+"_warning"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_replacing_"+i),5,"success",e+"_success"),__f___u("upd",$(t[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(t[0]).text()),tree_update_node(),n(_)},error:function(e){n(_)}})}}},onEscape:function(){}}):"cc"==o?(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_and_copying_"+i),5,"success",e+"_success"),__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()),tree_update_node()):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_successful"),5,"success",e+"_success"),__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()),tree_update_node())},error:function(e){n(_)}})}if("extract"===e&&(__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/extract.cgi?module="+v___module+__f___um(),data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);g=$.parseHTML(t),__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()),tree_update_node()},error:function(e){}})),"bookmark"===e&&(__f_____sl(),__f_____hl_(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/bookmark.cgi?path="+Convert.uriEncodeComponent(a)+"&module="+v___module_file_manager,data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);exiting_book_mark=f_m__bm__u(),exiting_book_mark.length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star-o"></i>'+theme_language("theme_xhred_filemanager_unbookmark_success").replace("%value",a?Convert.htmlEscape(Convert.uriDecodeComponent(a)):"/"),5,"warning","bookmarkAddRemove"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star"></i>'+theme_language("theme_xhred_filemanager_bookmark_success").replace("%value",a?Convert.htmlEscape(Convert.uriDecodeComponent(a)):"/"),5,"info","bookmarkAddRemove")},error:function(e){}})),"delete"===e&&(__f__ld__sh(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/delete.cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);theme_message_dismiss("delete_info"),__f____success(t,1,1,1,!1,"fa-exclamation-triangle","theme_xhred_filemanager_delete_warning",30,"warning","fa-trash-o","theme_xhred_filemanager_successful_deletion",2,"info",e)},error:function(e){}})),"rename"===e){__f__ld__sh();var i=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/rename.cgi?module="+v___module,data:$($v__fm__container_fluid+" #renameForm").serialize(),dataType:"text",success:function(t){return Test.strContains(t,v___page_signin_form)?void(v___available_session=0):(g=$.parseHTML(t),$(g[1]).find("table.ui_columns").length?(__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e),void tree_update_node()):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+t,10,"error",e+"_error"),void __f_____ul()))},error:function(e){}})}if("create_folder"===e){__f__ld__sh();var i=Convert.uriEncodeComponent($($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val()),o=$($v__fm__container_fluid+" #createFolderForm").serialize();theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_folder.cgi?module="+v___module+__f___um(),data:o,dataType:"text",success:function(t){return Test.strContains(t,v___page_signin_form)?void(v___available_session=0):(g=$.parseHTML(t),$(g[1]).find("table.ui_columns").length?(__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()),void tree_update_node()):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+t,10,"error",e+"_error"),void __f_____ul()))},error:function(e){}})}if("create_file"===e){__f__ld__sh();var i=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_file.cgi?module="+v___module+__f___um(),data:$($v__fm__container_fluid+" #createFileForm").serialize(),dataType:"text",success:function(t){return Test.strContains(t,v___page_signin_form)?void(v___available_session=0):(g=$.parseHTML(t),$(g[1]).find("table.ui_columns").length?void __f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,e,!1,$(g[0]).text()):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+t,10,"error",e+"_error"),void __f_____ul()))},error:function(e){}})}if("url_download"===e){__f__ld__sh();var i=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val();theme_modal_dismiss();var r=$($v__fm__container_fluid+" #downFromUrlForm input:not([name='path'])").serialize();r=r+"&path="+$($v__fm__container_fluid+" #path").val(),$.ajax({type:"POST",url:v___location_prefix+"/"+v___module_file_manager+"/http_download.cgi",data:r,dataType:"text",success:function(t){return Test.strContains(t,v___page_signin_form)?void(v___available_session=0):(theme_message_dismiss("url_download_info"),$(t).find(".panel-body").text().match(/100 %/)||$(t).find(".panel-body").text().match(/100%/)||$(t).find(".panel-body h3").length?$(t).find(".panel-body h3").length?void plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+$(t).find(".panel-body h3").html(),10,"error",e+"_error"):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-download"></i>'+$(t).find(".panel-body").html(),5,"success",e+"_success"),void __f____r("get","index.cgi?path="+(i?Convert.uriEncodeComponent(i):""),!1,0)):(plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+$(t).find(".panel-body").html(),10,"error",e+"_error"),void __f_____ul()))},error:function(e){}})}if("search"===e){__f__ld__sh();var i=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),l=$($v__fm__container_fluid+" #searchForm").find('input[name="query"]').val(),s=$.trim($($v__fm__container_fluid+" #searchForm").find('input[name="grepstring"]').val()),d=$.trim($($v__fm__container_fluid+" #searchForm").find('input[name="grepreplace"]').val()),f=s&&!d?" fa-1_50x fa-file-find":s&&d?" fa-1_50x fa-find-replace":" fa-lg fa-search";l&&l.length&&(l=Convert.htmlEscape(l)),s&&s.length&&(s=Convert.htmlEscape(s)),d&&d.length&&(d=Convert.htmlEscape(d)),theme_modal_dismiss(),s&&!d?plugins.messenger.post('<i class="fa fa-1_50x fa-fw fa-file-find"></i>'+theme_language("theme_xhred_filemanager_searching_matching").replace("%value",l).replace("%text",s)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"info",e+"_preMe"):s&&d?plugins.messenger.post('<i class="fa fa-1_50x fa-fw fa-find-replace"></i>'+theme_language("theme_xhred_filemanager_searching_replacing").replace("%value",l).replace("%text",s).replace("%replace",d)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"warning",e+"_preMe"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-search"></i>'+theme_language("theme_xhred_filemanager_searching").replace("%value",l)+" "+theme_language("theme_xhred_global_please_wait"),1e4,"info",e+"_preMe"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/search.cgi?module="+v___module,data:$($v__fm__container_fluid+" #searchForm").serialize(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);var a=$.parseHTML(t);__f___u("upd",$(a[1]).find("table.ui_columns").find(".ui_checked_columns"),0,"search",!1,$(a[0]).text());var _=$('body[class*="'+v___module_file_manager+'"]');_.find(".breadcrumb .fa-folder-root").length?_.find(".breadcrumb .fa-folder-root").removeClass("fa-folder-root").addClass("fa-search text-light fa-sm").parent("a").removeAttr("href").replaceTagName("span"):_.find(".breadcrumb li:first-child a").html('<i class="fa fa-fw fa-sm fa-search text-light"></i>'),_.find(".breadcrumb li:not(:first-child) a").replaceWith(function(){return $("<span>",{html:$(this).html()})}),_.find(".breadcrumb li").addClass("text-light"),$($v__fm__container_fluid+" .__o__f_m-search-results").remove(),$($v__fm__container_fluid+" .ui_checked_columns.directory_go_up").addClass("hidden"),$_br=$($v__fm__container_fluid+" .breadcrumb > li:last-child"),$_br.html($_br.html()+'<span class="__o__f_m-search-results">'+($(".breadcrumb > li:last-child a i").hasClass("fa-search")?"&nbsp;&nbsp;&nbsp;/&nbsp;":"")+'&nbsp;&nbsp;:&nbsp;&nbsp;<span class="text-primary __o__f_m-search-results-data cursor-pointer">`<em><strong class="small">'+l+"</strong>"+(s&&!d?' <strong class="small">['+s+"]</strong>":s&&d?' <strong class="small">['+s+'<span class="smaller"> -> </span>'+d+"]</strong>":"")+"</em>`</span></span>");var n=5e3;__list_table_total_rows>1?s&&d?(plugins.messenger.post('<i class="fa fa-fw '+f+'"></i>'+theme_language("theme_xhred_filemanager_search_replaced_multi").replace("%value",__list_table_total_rows),10,"success",e+"_success"),n=9e3):plugins.messenger.post('<i class="fa fa-fw '+f+'"></i>'+theme_language("theme_xhred_filemanager_search_founds").replace("%value",__list_table_total_rows),6,"success",e+"_success"):1==__list_table_total_rows?s&&d?plugins.messenger.post('<i class="fa fa-fw '+f+'"></i>'+theme_language("theme_xhred_filemanager_search_replaced"),6,"success",e+"_success"):plugins.messenger.post('<i class="fa fa-fw '+f+'"></i>'+theme_language("theme_xhred_filemanager_search_found"),6,"success",e+"_success"):plugins.messenger.post('<i class="fa fa-fw '+f+'"></i>'+theme_language("theme_xhred_filemanager_search_no_matches"),6,"error",e+"_error"),setTimeout(function(){theme_message_dismiss("search_preMe")},n)},error:function(e){}})}"chmod"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="perms" value="'+t[0]+'" class="_o__f_m-tmp-chmod-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="applyto" value="'+t[1]+'" class="_o__f_m-tmp-chmod-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chmod.cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);setTimeout(function(){theme_message_dismiss("chmod_info")},2e3),__f____success(t,1,1,1,"_o__f_m-tmp-chmod-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_permissions_with_errors",15,"warning","fa-cogs","theme_xhred_filemanager_successful_permissions",3,"success",e)},error:function(e){}})),"chown"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="owner" value="'+t[0]+'" class="_o__f_m-tmp-chown-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="group" value="'+t[1]+'" class="_o__f_m-tmp-chown-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+t[2]+'" class="_o__f_m-tmp-chown-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chown.cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);setTimeout(function(){theme_message_dismiss("chown_info")},2e3),__f____success(t,1,1,1,"_o__f_m-tmp-chown-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_ownership_with_errors",15,"warning","fa-users","theme_xhred_filemanager_successful_ownership",3,"success",e)},error:function(e){}})),"chattr"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="label" value="'+t[0]+'" class="_o__f_m-tmp-chattr-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+t[1]+'" class="_o__f_m-tmp-chattr-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chattr.cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);setTimeout(function(){theme_message_dismiss("chattr_info")},2e3),__f____success(t,1,1,1,"_o__f_m-tmp-chattr-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_attributes_with_errors",15,"warning","fa-tags","theme_xhred_filemanager_successful_attributes",3,"success",e)},error:function(e){}})),"chcon"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="label" value="'+t[0]+'" class="_o__f_m-tmp-chcon-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="recursive" value="'+t[1]+'" class="_o__f_m-tmp-chcon-inputs">'),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/chcon.cgi?module="+v___module,data:__f___gd(),dataType:"text",success:function(t){
if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);setTimeout(function(){theme_message_dismiss("chcon_info")},2e3),__f____success(t,1,1,1,"_o__f_m-tmp-chcon-inputs","fa-exclamation-triangle","theme_xhred_filemanager_successful_secontext_with_errors",15,"warning","fa-tags","theme_xhred_filemanager_successful_secontext",3,"success",e)},error:function(e){}})),"compress"===e&&(__f__ld__sh(),$($v__fm__container_fluid_form).append('<input type="hidden" name="arch" value="'+t[0]+'" class="_o__f_m-tmp-compress-inputs">'),$($v__fm__container_fluid_form).append('<input type="hidden" name="method" value="'+t[1]+'" class="_o__f_m-tmp-compress-inputs">'),__f__ld__bg(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/compress.cgi?module="+v___module+__f___um(),data:__f___gd(),dataType:"text",success:function(_){if(Test.strContains(_,v___page_signin_form))return void(v___available_session=0);setTimeout(function(){0===$.active&&theme_message_dismiss("compress_info")},2e3),__f____success(_,1,0,1,"_o__f_m-tmp-compress-inputs","fa-exclamation-circle","theme_xhred_filemanager_successful_compression_with_errors",15,"warning","fa-file-archive-o","theme_xhred_filemanager_successful_compression",8,"success",e,[e,a,t[0]+$('select option[value="'+t[1]+'"]').text()])},error:function(e){}}))}function set_last_tabs(e){localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_last_tab",JSON.stringify(e))}function get_last_tabs(){return JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_last_tab"))}function store_last_tab(e){if(!$("#content").hasClass("progressing")){var t=v___server_username,a=get_last_tabs();$t_uri_virtualmin&&(t+="_"+$('[name="dom"]').val());var _={};e||(e=$($v__fm__container_fluid+" .nav.nav-tabs li.active")),_[t]=e.find("[data-tab-path]").attr("data-original-title");set_last_tabs($.extend({},a,_))}}function table_resize(e){var t=content_page_calc_width()-6-($("[data-tree-view]").is(":visible")?e?e:260:0),a="data-table-wrap";browser.detect.safari()&&(t-=2),config_portable_module_filemanager_hide_tree_view&&(t+=5),$("["+a+"]").css({"max-width":t,width:t}),$("["+a+"]:visible")&&$("["+a+"]:visible").length&&($("["+a+"]:visible").removeClass(),$("["+a+"]:visible").hasScrollBar(1)&&$("["+a+"]:visible").addClass("margined-bottom-10"))}function tree_resize(e){var t=$("[data-tree-view]"),a=t.next(".tree-view-filter"),_=$("form .row + .tree-view + .row"),n=parseInt(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_tree_width"));!e&&!isNaN(n)&&n>=200&&n<=parseInt(vhTOpx(70))?e=n:e||(e=t.outerWidth()),t.css("width",e),_.css("margin-left",parseInt(e)-10),a.css("width",parseInt(e)),table_resize(parseInt(e))}function tree_view_set(e){var t=$("[data-tree-view]"),a=t.next().find("input"),_=a.parent();t.find(".cspinner.centered-initial").removeClass("centered-initial").find(".cspinner-icon").addClass("smaller"),_.removeClass("hidden-content").append('<span class="fa fa-times-circle vertical-align-middle filter_fancytree_clear text-lighter"><span class="clear_delimiter">|</span></span><span class="fa fa-folder vertical-align-middle filter_fancytree_toggle text-lighter"><span class="clear_delimiter">|</span></span>'),t.find(".cspinner").remove(),$.ui.fancytree.debugLevel=0,$.ui.fancytree.activeVisible=!0,$.ui.fancytree.autoScroll=!0,t.fancytree({source:e,debugLevel:0,escapeTitles:!1,extensions:["filter"],quicksearch:!0,filter:{autoApply:!0,autoExpand:config_portable_module_filemanager_tree_expand_search,counter:!0,fuzzy:!1,hideExpandedCounter:!0,hideExpanders:!1,highlight:!0,leavesOnly:!1,nodata:!0,mode:"hide"},autoActivate:!1,activeVisible:!0,autoScroll:!0,keyboard:!1,strings:{loading:"",loadError:"",moreData:"",noData:theme_language("theme_xhred_datatable_szerorecords")},toggleEffect:!1,click:function(e,t){$v__fm__tree_node_prog&&($v__fm__tree_node_prog=0,$v__fm__tree_node_sp=0,tree_action(e,t))},dblclick:function(e,t){return tree_action(e,t,1),!1},activate:function(e,t){tree_action(e,t)},init:function(){setTimeout(function(){tree_gset_node()},400)}}),$("body").on("click.fm",".filter_fancytree_clear",function(){$(this).parent().find("input").val("").trigger("keyup"),setTimeout(function(){var e=_f__table();e&&(e.DataTable().draw(),tree_view_adjust())},100)}),$("body").on("click.fm",".filter_fancytree_toggle",function(){t.fancytree("getRootNode").visit(function(e){e.setExpanded(!1)}),t.find(".mCSB_container").css("left",0),t.mCustomScrollbar("scrollTo",0,{scrollInertia:100})}),a.keyup(function(e){var t=$(this);"undefined"!=typeof $tree_view_search_timer&&clearTimeout($tree_view_search_timer),$tree_view_search_timer=setTimeout(function(){var a=$.ui.fancytree.getTree(),_=t.val(),n=$(e.target).parent().find(".filter_fancytree_clear");a.filterNodes.call(a,_),_?n.removeClass("text-lighter"):n.addClass("text-lighter")},void 0!=e.originalEvent?600:0)}),1===e.length&&t.fancytree("getRootNode").visit(function(e){1===e.getLevel()&&e.setExpanded(!0)}),t.mCustomScrollbar({axis:"xy",theme:"minimal-dark",keyboard:!1,scrollButtons:!0,autoHideScrollbar:!1,scrollInertia:100,advanced:{updateOnContentResize:!0}});var n=t.find("[data-resizer]").detach();t.prepend(n),function(){var e=$("[data-tree-view]"),t=e.find("[data-resizer]")[0],a=$("body"),_=$(".panel-heading, .jsPanel, .jsPanel-replacement-container, aside, .mobile-menu-toggler, #right-side-tabs, .right-side-tabs-toggler, .breadcrumb, .btn-group, .ui-fancytree, .tree-view-filter, .data-table"),n="user-select-none cursor-w-resize",i=function(){window.addEventListener("mousemove",o,!1),window.addEventListener("mouseup",r,!1)},o=function(t){var i=t.pageX-e[0].getBoundingClientRect().left+"px";a.addClass(n),_.addClass("pointer-events-none-forced");var o=parseInt(vhTOpx(70));parseInt(i)<200||parseInt(i)>o||(localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_tree_width",i),tree_resize(i))},r=function(){a.removeClass(n),_.removeClass("pointer-events-none-forced"),window.removeEventListener("mousemove",o,!1),window.removeEventListener("mouseup",r,!1)};t&&t.addEventListener("mousedown",i,!1)}()}function tree_action(e,t,a){var _=$("[data-tree-view]"),n=_.next().find("input"),i=(n.parent(),void 0!==e.originalEvent),o=t.node.key,r=_.next().find("input").val(),l=$(".fancytree-active");o=Convert.uriEncodeComponent(Convert.htmlUnEscape(o));var s=o;if(2===get_access_level()||4===get_access_level()){var d=new RegExp("^"+Convert.uriEncodeComponent(get_server_data("user-home")),"");s=s.replace(d,"")}if(i&&(__f____r("get","index.cgi?path="+s,!1,0,!1,i),$(".fancytree-loading-node").remove()),($v__fm__tree_node_sp||a)&&i&&l.find(".fancytree-icon").before('<span class="cspinner fancytree-loading-node"><span class="cspinner-icon smaller"></span></span>'),$v__fm__tree_node_sp=1,!config_portable_module_filemanager_hide_tree_view&&!r){var f=config_portable_module_filemanager_tree_view_depth,c=Test.occurrences(Convert.uriDecodeComponent(o),"/");f=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(f)+c,$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+f+"&cpt="+o,data:!1,dataType:"JSON",success:function(e){t.node.removeChildren(),t.node.addChildren(e),t.node.toggleExpanded(),tree_view_adjust()},error:function(e){}})}!t.node.isExpanded()&&t.node.toggleExpanded();var m=t.node.getChildren();m&&m.map(function(e,t){e.isExpanded()&&e.toggleExpanded()})}function tree_view_get(){if(1!=config_portable_module_filemanager_hide_tree_view&&1!==$v__fm__tree){$v__fm__tree=1;var e=config_portable_module_filemanager_tree_view_depth;3===get_access_level()&&(e=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(e)+Test.occurrences(Convert.uriDecodeComponent(get_server_data("user-home")),"/")),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+e+"&e="+(config_portable_module_filemanager_tree_exclude_on_first_load?1:0),data:!1,dataType:"JSON",success:function(e){var t="jquery.fancytree";$($v__fm__container_fluid_form).data("tree",e),Test.arrContains(o___gotten_scripts,t)?tree_view_set(e):(o___gotten_scripts.push(t),$("head").append('<link href="'+v___server_css_path+"/"+t+"."+v___source_type+".css?"+v___theme_version_plain+'" rel="stylesheet" type="text/css">'),$.getScript(v___server_js_path+"/"+t+"."+v___source_type+".js?"+v___theme_version_plain,function(t,a,_){tree_view_set(e)}))},error:function(e){}})}}function tree_view_draw(e){var t=e.parent("div").parent(".row").prev(".tree-view").add("[data-tree-view]"),a=$(".tree-view-filter"),_=t.find(".fancytree-loading-node"),n=e.outerHeight(),i=$("[data-tree-view] .fancytree-container").height(),o=parseInt(vhTOpx(47.52))-8;o=o>320?o:320;var r=o-39,l=o+11;_.remove(),(!i||i>n||n<r)&&n<l||a.find("input").val()?(t.css("height",o-0),a.css("margin-top",o+8+-2+0)):(t.css("height",n-0),a.css("margin-top",n+8+-2))}function tree_view_adjust(){var e=($("[data-tree-view]").height(),$("[data-tree-view]").height(),$(".fancytree-active").parent("li")),t=$(".tree-view-filter"),a=e.prev(),_=a.length?a:e,n=Convert.uriEncodeComponent(Convert.htmlUnEscape($("#path").val())),i=Convert.htmlEscape(Convert.uriDecodeComponent(n)),o=i&&"/"!=i?0:1;if((_.length||o)&&!t.find("input").val()){o&&(_=-2);var r=$("[data-tree-view]");r&&r.length&&_&&_.length&&r.mCustomScrollbar("scrollTo",_,{scrollInertia:100})}}function tree_gset_node(e){var t=$("[data-tree-view]"),a=t.data("ui-fancytree"),_=$(".tree-view-filter");if(!config_portable_module_filemanager_hide_tree_view&&a&&!_.find("input").val()){var n=config_portable_module_filemanager_tree_view_depth,i=Convert.uriEncodeComponent(Convert.htmlUnEscape($("#path").val())),o=Convert.htmlEscape(Convert.uriDecodeComponent(i)),r=Test.occurrences(Convert.uriDecodeComponent(o),"/"),n=0==config_portable_module_filemanager_tree_view_depth?0:parseInt(n)+r,a=a.getTree();2!==get_access_level()&&4!==get_access_level()||(o=get_server_data("user-home")+o);var l=a.getNodeByKey(o);if(e)return[l,a,i,r];l?l.setActive():t.find(".fancytree-active, .fancytree-selected").removeClass("fancytree-active fancytree-selected"),tree_view_adjust()}}function tree_update_node(){if($v__fm__tree){$(".filter_fancytree_clear").trigger("click");var e=tree_gset_node(1);if($v__fm__tree_node_prog=1,e&&e[0])return void $(e[0].li).trigger("click");tree_update_root(1)}}function tree_update_root(e,t){var a="path",a=Convert.uriDecodeComponent(Convert.htmlUnEscape($("#"+a).val())),_=$("[data-tree-view]"),n=_.data("ui-fancytree"),i=_.find(".ui-fancytree");n&&e&&(t||!a||"/"==a||a===get_server_data("user-home"))&&(n=n.getTree(),i.addClass("pointer-events-none"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/tree.cgi?module="+v___module+__f___um()+"&d="+config_portable_module_filemanager_tree_view_depth,data:!1,dataType:"JSON",success:function(e){if($("[data-tree-view]").length){var t=_.fancytree("getRootNode");t.removeChildren(),t.addChildren(e),i.removeClass("pointer-events-none")}},error:function(e){}}))}function __f___cs(){$($v__fm__container_fluid_form+" table tbody tr").removeClass("m-active m-not-active")}function __f___ds_a(){var e=document.querySelectorAll(".container-fluid .ui_checked_columns");for(i=0;i<e.length;i++){e[i].getElementsByTagName("input")[0].checked&&rowClick(e[i])}__f___lb()}function __f__get_fs(){$($v__fm__container_fluid+" .total_size_data").parent("span").addClass("hidden"),$($v__fm__container_fluid+" .total_size_data").data("total",0),$.each(_f__table().dataTable().$("tr.hl-aw",{filter:"applied"}),function(){var e=$(this),t=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val().replace(/\/$/g,"")+"/"+e.find("td:nth-child(3) a").text(),a=e.find("td.column-filesize").html("<label></label>").find("label"),_=_f__table().dataTable().$("tr.hl-aw",{filter:"applied"});__f_____sl(),a.html('<span class="cspinner" style="margin-top: -11px; margin-left: 20px;"><span class="cspinner-icon small"></span></span>'),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_size=1&xhr-get_size_path="+t,data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);var a=t.split("|");_f__table().DataTable().cell(e.find("td.column-filesize").attr("data-order",a[1])).data(a[0]).invalidate();var n;n=isNaN(parseInt(a[1]))?0:parseInt(a[1]),$($v__fm__container_fluid+" .total_size_data").data("total",parseInt($(".total_size_data").data("total"))+n),_.find("td.column-filesize").find("label").find(".cspinner").length||($.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_nice_size=1&xhr-get_nice_size_sum="+parseInt($(".total_size_data").data("total")),data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);$($v__fm__container_fluid+" .total_size_data").text(e),$($v__fm__container_fluid+" .total_size_data").parent("span").removeClass("hidden"),_f__table().DataTable().draw()},error:function(e){}}),setTimeout(function(){__f_____hl()},600))},error:function(e){}})})}function __f__c__m(){var e=$($v__fm__container_fluid+" .tab-pane.active form table");$($v__fm__container_fluid+" .tab-pane table").unbind("contextmenu"),e.contextMenu({menuSelector:"#__f__c__m",menuSelectorTriggered:function(e,t){if($($v__fm__container_fluid+" .tab-pane.active table tbody tr input").length&&0===e.parents("tr").find("input:checked").length){__f___ds_a();var a=e.parents("tr").find("td:first-child input"),_=a.is(":checked");a[0].checked=!_,a.trigger("change")}e.parents("tr").find("i.fa-folder-open-o").length?$(".context-o__f_m-dependent-goto").removeClass("hidden"):$(".context-o__f_m-dependent-goto").addClass("hidden"),e.parents("tr").find('a[href*="index.cgi?path="]').length?$(".context-o__f_m-dependent-open-new-tab").removeClass("hidden"):$(".context-o__f_m-dependent-open-new-tab").addClass("hidden"),e.parents("tr").find("i.fa-pencil-square-o").length?$(".context-o__f_m-dependent-edit").removeClass("hidden"):$(".context-o__f_m-dependent-edit").addClass("hidden"),e.parents("tr").find('a[data-filemin-link$=".acgi"]').length||e.parents("tr").find('a[data-filemin-link$=".htm"]').length||e.parents("tr").find('a[data-filemin-link$=".html"]').length||e.parents("tr").find('a[data-filemin-link$=".htmls"]').length||e.parents("tr").find('a[data-filemin-link$=".htx"]').length||e.parents("tr").find('a[data-filemin-link$=".shtml"]').length||e.parents("tr").find('a[data-filemin-link$=".ssi"]').length?($("li.context-o__f_m-dependent-edit").addClass("dropdown-submenu"),$('[context-o__f_m-dependent-htmledit="1"]').removeClass("hidden")):($("li.context-o__f_m-dependent-edit").removeClass("dropdown-submenu"),$('[context-o__f_m-dependent-htmledit="1"]').addClass("hidden")),e.parents("tr").find('a[href*="download.cgi"]').length&&$(".context-o__f_m-dependent-download").removeClass("hidden"),e.parents("tr").find("i.fa.fa-extract-archive").length?$(".context-o__f_m-dependent-extract").removeClass("hidden"):$(".context-o__f_m-dependent-extract").addClass("hidden");var n=$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]'),i=$("#__f__c__m a[data-context-back]");n.is(":visible")?i.parent().removeClass("disabled"):i.parent().addClass("disabled");var o=$("#__f__c__m"),r=o.find("li:not([data-go_up-target]):not([data-context-always-keep])"),l=o.find("li.hidden-force");e.hasClass("directory_go_up")?r.addClass("hidden-force"):l.removeClass("hidden-force"),$($v__fm__container_fluid+" .o__f_m-button-compress").hasClass("disabled")?$("#__f__c__m a[data-context-newarchive]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-newarchive]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-copy").hasClass("disabled")?$("#__f__c__m a[data-context-copy], a[data-context-clipboard], a[data-context-clipboard-selection]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-copy], a[data-context-clipboard], a[data-context-clipboard-selection]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-cut").hasClass("disabled")?$("#__f__c__m a[data-context-cut]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-cut]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-paste").hasClass("disabled")?$("#__f__c__m a[data-context-paste]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-paste]").removeClass("disabled").parent("li").removeClass("disabled"),check_selected_text()&&!$("#__f__c__m a[data-context-copy]").hasClass("disabled")?$("a[data-context-clipboard-selection]").removeClass("disabled").parent("li").removeClass("disabled"):$("a[data-context-clipboard-selection]").addClass("disabled").parent("li").addClass("disabled"),$(".o__f_m-button-delete").hasClass("disabled")?($("#__f__c__m a[data-context-delete]").addClass("disabled").parent("li").addClass("disabled"),$("#__f__c__m a[data-context-rename]").addClass("disabled").parent("li").addClass("disabled")):($("#__f__c__m a[data-context-delete]").removeClass("disabled").parent("li").removeClass("disabled"),$("#__f__c__m a[data-context-rename]").removeClass("disabled").parent("li").removeClass("disabled")),f_m__bm__cm(),$($v__fm__container_fluid+" .o__f_m-button-chmod").hasClass("disabled")&&$(".o__f_m-button-chown").hasClass("disabled")?$($v__fm__container_fluid+" .context-properties").addClass("disabled"):$($v__fm__container_fluid+" .context-properties").removeClass("disabled"),_f__table().dataTable().$("tr.hl-aw",{filter:"applied"}).length?$("#__f__c__m a[data-context-calculate-selected-size]").parent("li").removeClass("hidden"):$("#__f__c__m a[data-context-calculate-selected-size]").parent("li").addClass("hidden"),$($v__fm__container_fluid+" .o__f_m-button-chmod").hasClass("disabled")?$("#__f__c__m a[data-context-chmod]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chmod]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chown").hasClass("disabled")?$("#__f__c__m a[data-context-chown]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chown]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chattr").hasClass("disabled")?$("#__f__c__m a[data-context-chattr]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chattr]").removeClass("disabled").parent("li").removeClass("disabled"),$($v__fm__container_fluid+" .o__f_m-button-chcon").hasClass("disabled")?$("#__f__c__m a[data-context-chcon]").addClass("disabled").parent("li").addClass("disabled"):$("#__f__c__m a[data-context-chcon]").removeClass("disabled").parent("li").removeClass("disabled")},menuSelected:function(e,t){$v__fm__global_last_row=e.parents("tr");var a=$($v__fm__container_fluid+" #path").val(),_=$v__fm__global_last_row.find("td a[data-filemin-link]").attr("data-filemin-link");if("1"==t.data("context-goto")&&e.parents("tr").find('a.o__f_m-follow-file[href^="index.cgi?"]').trigger("click"),"1"==t.data("context-open-new-tab")&&__f___nt(Convert.uriEncodeComponent(Convert.htmlUnEscape(a))+"/"+Convert.uriEncodeComponent(Convert.htmlUnEscape(_)),1),"1"==t.data("context-select-all")&&$($v__fm__container_fluid+' button[onclick="selectAll()"]').trigger("click"),"1"==t.data("context-deselect-all")&&(__f___ds_a(),__r____changed()),"1"==t.data("context-invert-selection")&&$($v__fm__container_fluid+' button[onclick="invertSelection()"]').trigger("click"),"1"==t.data("context-refresh")&&$($v__fm__container_fluid+" button > ."+$__f__rf_s).parent("button").trigger("click"),"1"==t.data("context-newsymlink")&&__f___new_symlink(a,_),"1"==t.data("context-newfile")&&$($v__fm__container_fluid+' a[onclick="createFileDialog()"]').trigger("click"),"1"==t.data("context-newfolder")&&$($v__fm__container_fluid+' a[onclick="createFolderDialog()"]').trigger("click"),"1"==t.data("context-newarchive")&&$($v__fm__container_fluid+' a[onclick="compressDialog()"]').trigger("click"),"1"==t.data("context-upload")&&$($v__fm__container_fluid+' a[onclick="viewReadyForUpload()"]').trigger("click"),"1"==t.data("context-download")&&$($v__fm__container_fluid+' a[onclick="downFromUrlDialog()"]').trigger("click"),"1"==t.data("context-clipboard")){var n=e.parents("tr").find("img").parent("a").parent("td").next("td").find("a"),i=$($v__fm__container_fluid+" #path").val(),o=n.attr("data-filemin-link");$("body.file-manager").append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+Convert.htmlEscape(Convert.uriDecodeComponent(i)+"/"+Convert.uriDecodeComponent(o))+'"></button>');var r=new Clipboard(".tmp-clipboard-obj");$(".tmp-clipboard-obj").trigger("click"),$(".tmp-clipboard-obj").remove(),r.destroy()}if("2"==t.data("context-clipboard-selection")){$("body.file-manager").append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+check_selected_text()+'"></button>');var r=new Clipboard(".tmp-clipboard-obj");$(".tmp-clipboard-obj").trigger("click"),$(".tmp-clipboard-obj").remove(),r.destroy()}if("1"==t.data("context-copy")&&$($v__fm__container_fluid+" .o__f_m-button-copy a").trigger("click"),"1"==t.data("context-cut")&&$($v__fm__container_fluid+" .o__f_m-button-cut a").trigger("click"),"1"==t.data("context-paste")&&$($v__fm__container_fluid+" .o__f_m-button-paste a").trigger("click"),"1"==t.data("context-delete")&&$($v__fm__container_fluid+" .o__f_m-button-delete").trigger("click"),"1"==t.data("context-bookmarks")&&$($v__fm__container_fluid+' a[href^="bookmark.cgi"]').trigger("click"),"1"==t.data("context-back"))return void $($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]:visible').trigger("click");if("1"==t.data("context-search")&&$($v__fm__container_fluid+' a[onclick="searchDialog()"]').trigger("click"),"1"==t.data("context-edit")||"1"==t.attr("context-o__f_m-dependent-htmledit")){var l=e.parents("tr"),s=l.find('a[href^="edit_file.cgi?"]');"1"==t.attr("context-o__f_m-dependent-htmledit")&&l.data("htmledit",1),l.addClass("m-active"),s.trigger("click")}if("1"==t.data("context-rename")&&e.parents("tr").find('a[onclick^="renameDialog("]').trigger("click"),"1"==t.data("context-download-file")){var d=e.parents("tr").find('td a[href*="download.cgi?"]'),f=__f__cnt___selected();1===__f__cnt___selected()&&d.length?window.location.replace(v___location_prefix+"/"+v___module_file_manager+"/"+d.attr("href")):__f__dw__dir(f)}"1"==t.data("context-extract")&&e.parents("tr").find('a[href^="extract.cgi?"]').trigger("click"),"1"==t.data("context-calculate-selected-size")&&__f__get_fs(),"1"==t.data("context-chmod")&&$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').trigger("click"),"1"==t.data("context-chown")&&$($v__fm__container_fluid+' a[onclick="chownDialog()"]').trigger("click"),"1"==t.data("context-chattr")&&$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').trigger("click"),"1"==t.data("context-chcon")&&$($v__fm__container_fluid+' a[onclick="chconDialog()"]').trigger("click")}})}function __f___up__tb_sort(){if("0"!=config_portable_module_filemanager_default_sort){var e=config_portable_module_filemanager_default_sort,t=Test.strContains(e,"--")?1:0,e=e.replace("--","");return t?[[$("[data-head-"+e+"]").parent("th").index(),"desc"]]:[[$("[data-head-"+e+"]").parent("th").index(),"asc"]]}return[]}function __f___u(e,t,a,_,n,i){if("object"==typeof n)var o=n[1],r=n[2],l=n[3],s=n[4],n=n[0];else var o=!0;if("config.cgi"!=v___location_file){var d=null,f=null,c=null,m=null,u=$($v__fm__container_fluid+" #path").val();void 0===i&&(i=!1),d=void 0!==n&&(void 0===n||n!==!1),f=d?$v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"] form table':$v__fm__container_fluid+" .tab-pane.active form table",c=d?$v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"]':$v__fm__container_fluid+" .tab-pane.active";var m=$(c).attr("id").replace(/^\D+/g,""),m=m?m:1,p=$("body.file-manager").find(f).attr("id"),g=p?parseInt(p.replace(/^\D+/g,"")):"none";if(!d&&"none"!==g&&$($v__fm__container_fluid+" #DataTables_Table_"+g).dataTable().fnDestroy(),"upd"===e){var h=t.find(".fa-font").first().parents("td").index();$(f).addClass("___f_m__q__"),$("body.file-manager").find(f+" tbody").empty(),$("body.file-manager").find(f+" tbody").append(t),table_proc_size_columns(),!o&&$(c).data("totalValue",l).data("breadcrumb",$($v__fm__container_fluid+" .breadcrumb").clone()),i&&!r&&__f__upd_____tl(i),page_radios_evolve(),$("._select-unselect_").parent(".awcheckbox").remove(),__f_____ul()}else var h=$(f).find(".fa-font").first().parents("td").index();void 0!==localStorage["DataTables_DataTables_Table_"+g+"_/"+v___module_file_manager+"/index.cgi"]?_filemanager_data=JSON.parse(localStorage["DataTables_DataTables_Table_"+g+"_/"+v___module_file_manager+"/index.cgi"]):_filemanager_data=!1;var v=_filemanager_data&&_filemanager_data.length?_filemanager_data.length:config_portable_module_filemanager_records_per_page;3!=h&&4!=h&&(h=!1),$(f).unbind("click.fmx"),$(f).on("click.fmx",'a .fa.fa-pencil-square-o, a[href^="edit_file.cgi"]',function(e){e.preventDefault(),e.stopPropagation();var e=jQuery.Event("keydown");e.which=115,$("body.file-manager").trigger(e)}),window["_f__table"+m]=$(f).dataTable({order:[],aaSorting:[],bDestroy:!0,pageLength:20,preDrawCallback:function(){var e=$(f);if(1==config_portable_module_filemanager_hide_actions){var t=$($v__fm__container_fluid+" .tab-pane.active form table"),a=t.find(".fa-font"),_=t.find(".fa-i-cursor"),n=a.length?a.parents("td").index():_.parents("td").index();n>1&&($(f+" thead th").eq(n).addClass("hidden"),e.find(".fa-font").length?e.find(".fa-font").parents("td").addClass("hidden"):e.find(".fa-i-cursor").parents("td").addClass("hidden"))}var i=e.parent("div").parent(".row");0===i.prev(".tree-view").length&&(i.before('<div class="tree-view"></div>'),config_portable_module_filemanager_hide_tree_view&&i.prev(".tree-view").addClass("hidden"))},fnDrawCallback:function(e,t,a){$($v__fm__container_fluid+" .tab-pane .paginate_button.previous > a").html('<i class="fa fa-fw fa-angle-left"></i>').css("border-top-left-radius","0").css("border-bottom-left-radius","0"),$($v__fm__container_fluid+" .tab-pane .paginate_button.next > a").html('<i class="fa fa-fw fa-angle-right"></i>').css("border-top-right-radius","0").css("border-bottom-right-radius","0"),$(f).find(".fa-font").removeClass("fa-font").addClass("fa-i-cursor").css("margin-right","5px").css("margin-left","5px"),$(f).find(".fa-external-link").removeClass("fa-external-link").addClass("fa-extract-archive").css("margin-right","5px").css("margin-left","5px"),$(f).find(".fa-edit").addClass("fa-pencil-square-o").css("margin-right","7px").css("margin-left","7px"),$(f).find(".fa-arrow-right").removeClass("fa-arrow-right").addClass("fa-folder-open-o").parent("a").addClass("o__f_m-follow-file"),__list_table_total_rows=e.fnRecordsTotal(),e.fnRecordsTotal()<=e._iDisplayLength?$(c+" .dataTables_paginate").hide():$(c+" .dataTables_paginate").show(),$.each($(f+" tbody tr:not('.row-filesize-done') td"),function(){/((\d+(\s+)|\d+\.\d+(\s+)))(TB|GB|MB|KB|Byte|Bytes|ТБ|ГБ|МБ|КБ|Байт)|(Unlimited|Ubegrenset|Nielimitowane|Ilimitado|无限制|Не ограничено|No Limit|Same as admin)/i.test($(this).text())&&$(this).index()>1&&(list_form_table_file_size=$(this).index())}).promise().done(function(){"undefined"!=typeof list_form_table_file_size&&$.each($(f+" tbody tr:not('.row-filesize-done') td"),function(){$(this).parent("tr").find('img[src$=".png"]').length&&$(this).parent("tr").find("td").eq(list_form_table_file_size).addClass("column-filesize"),($(this).parent("tr").find('img[src$="inode-directory.png"]').length||$(this).parent("tr").find('img[src$="inode-symlink.png"]').length||$(this).parent("tr").find('img[src$="inode-mount-point.png"]').length)&&$(this).parent("tr").find("td").eq(list_form_table_file_size).addClass("column-filesize").find("label").text("")}).promise().done(function(){$(f+" thead th").eq(list_form_table_file_size).css("min-width","51px")})});var _=$(f+" tbody tr td:nth-child(2)");_.unbind("mouseover"),_.on("mouseover","img",function(e){var t=$(this).parents("td"),a=t.find('img[src*="inode-symlink"]'),_=t.next("td").find("a"),n=$(c+' form > input[type="hidden"][name="path"]').val().replace(/\/$/g,"")+"/"+_.text();a.length&&1!=a.attr("symlink-title")&&(!a.parent().find(".cspinner").length&&a.before('<span class="cspinner" style="margin-top: 5px; margin-left: -20px;"><span class="cspinner-icon small"></span></span>'),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_symlink=1&xhr-get_symlink_path="+n,data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);a.attr("data-content",'<code class="symlink-text-string text-nowrap">'+Convert.uriDecodeComponent(Convert.htmlEscape(e))+"</code>").attr("symlink-title","1").data("trigger","manual").data("html",!0).data("placement","auto right").data("container","body").data("animation",!1),a.is(":hover")&&a.popover("show"),a.on("mouseenter",function(){a.is(":hover")&&$(this).popover("show")}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||a.is(":hover")||$(e).popover("hide")},200)}),a.parent().find(".cspinner").remove()},error:function(e){}}))}),$(f+" ._select-unselect_, "+f+" #select-unselect").parents("th").css("opacity",0).addClass("pointer-events-none"),__init__dt_ck__e(),u?f__insert_dir_up():r&&"/"!=r&&!$(f+" tbody tr.directory_go_up").length&&$(f+" tbody").prepend('<tr class="ui_checked_columns directory_go_up" style="height: 23px;"><td colspan="'+$($v__fm__container_fluid+" .active thead tr th:visible").length+'"><input class="hidden" type="hidden">&nbsp;<i class="fa fa-fw fa-folder-btl"></i>&nbsp;..</td></tr>'),$($v__fm__container_fluid+" .active td.dataTables_empty").length?$($v__fm__container_fluid+" tr.directory_go_up").trigger("mouseover"):$($v__fm__container_fluid+" tr.directory_go_up").removeClass("hidden"),tree_view_draw($(f))},initComplete:function(t){o&&__f___up__d("index.cgi?path="+Convert.uriEncodeComponent(r?r:u),n,!1),!o&&__f___upd___tb(r,n),!o&&__f___up__tb_store(),0!=d&&o&&$($v__fm__container_fluid+' a[href="#tab-'+n+'"]').attr("newly-created","1").trigger("click"),$(c+' select[name^="DataTables_Table"][name$="_length"]').val(v).change(),this.fnSort(__f___up__tb_sort()),s&&f__rm_tab_path(u,1),$(f+" tbody").on("mouseout","tr",function(e){__f___cs()}).on("mouseover","tr",function(e){$(this).addClass("m-active")}),(0===a||1===$(f+" tbody tr").length&&$(f+" tbody tr td.dataTables_empty").length)&&page.render.content.filter.clear(),"upd"!==e||a||$(".paginate_button:visible").find('[data-dt-idx="1"]').first().trigger("click"),$(f)&&!$(f).parent().is("[data-table-wrap]")&&($(f).wrap("<div data-table-wrap></div>"),tree_resize())},bInfo:!0,destroy:!0,oLanguage:{sEmptyTable:theme_language("theme_xhred_datatable_semptydirectory"),sInfo:theme_language("theme_xhred_datatable_sinfo"),sInfoEmpty:theme_language("theme_xhred_datatable_sinfoempty"),sLengthMenu:theme_language("theme_xhred_datatable_slengthmenu"),sLoadingRecords:theme_language("theme_xhred_datatable_sloadingrecords"),sProcessing:theme_language("theme_xhred_datatable_sprocessing"),sSearch:" ",sZeroRecords:theme_language("theme_xhred_datatable_szerorecords")},conditionalPaging:!0,columnDefs:[{orderable:!1,targets:[0,1,h?h:0]},{width:"32px",targets:0},{width:"64px",targets:1},{width:"90%",targets:2}],fixedColumns:!0,bStateSave:!0,bPaginate:v,
aLengthMenu:[[5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,250,500,1e3],[5,10,15,20,25,30,35,40,45,50,55,60,70,80,90,100,250,500,1e3]]}),setTimeout(function(){theme_title_generate()},0),setTimeout(function(){store_last_tab()},400),tree_gset_node(),$($v__fm__container_fluid+' div button[onclick="removeDialog()"]').addClass("disabled o__f_m-button-delete").removeAttr("onclick"),$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chmod"),$($v__fm__container_fluid+' a[onclick="chownDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chown"),$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chattr"),$($v__fm__container_fluid+' a[onclick="chconDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chcon"),$($v__fm__container_fluid+' a[onclick="compressDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-compress"),$($v__fm__container_fluid+' a[onclick="copySelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-copy"),$($v__fm__container_fluid+" li.o__f_m-button-copy").addClass("disabled"),$($v__fm__container_fluid+' a[onclick="cutSelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-cut"),$($v__fm__container_fluid+" li.o__f_m-button-cut").addClass("disabled"),localStorage.getItem(v___server_hostname+"-copy")||localStorage.getItem(v___server_hostname+"-cut")?$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("o__f_m-button-paste"):$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-paste"),"extract"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_successful_extraction"),5,"info",_+"_info"),"chmod"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-cogs"></i>'+theme_language("theme_xhred_filemanager_successful_permissions"),5,"info",_+"_info"),"chown"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-users"></i>'+theme_language("theme_xhred_filemanager_successful_ownership"),5,"info",_+"_info"),"compress"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_successful_compression"),5,"info",_+"_info"),"rename"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-i-cursor"></i>'+theme_language("theme_xhred_filemanager_successful_rename").replace("%from",Convert.htmlEscape($('#renameForm input[name="file"]').val())).replace("%to",Convert.htmlEscape($('#renameForm input[name="name"]').val())),5,"info",_+"_info"),"create_folder"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-folder"></i>'+theme_language("theme_xhred_filemanager_successful_directory_creation").replace("%value",Convert.htmlEscape($('#createFolderForm input[name="name"]').val())),5,"info",_+"_info"),"create_file"===_&&plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file"></i>'+theme_language("theme_xhred_filemanager_successful_file_creation").replace("%value",Convert.htmlEscape($('#createFileForm input[name="name"]').val())),5,"info",_+"_info")}}function f_m__bm__cm(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e&&(e.length?e:"/");$($v__fm__container_fluid+" .btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]').filter(function(){return Convert.uriEncodeComponent($(this).text())===e}).length?($(".data-context-bookmarks a").text(theme_language("theme_xhred_filemanager_unbookmark")),$("#__f__c__m").find(".fa-star-o").addClass("fa-star").removeClass("fa-star-o")):($(".data-context-bookmarks a").text(theme_language("theme_xhred_filemanager_bookmark")),$("#__f__c__m").find(".fa-star").removeClass("fa-star").addClass("fa-star-o")),setTimeout(function(){var e=$(".btn-group .dropdown-menu.at-o__f_m-favorites-dropdown > li"),t=e.find('a[href]:not([href^="bookmark.cgi"], [href="#"])');e.find(".no_effect").parent("li").remove(),t.length?$(".bm_e__me").remove():($(".bm_e__me").remove(),e.parent("ul").append('<li class="bm_e__me"><span class="bm_e__me_l">'+theme_language("theme_xhred_filemanager__no_bookmarks")+"</span></li>"))},0)}function f_m__bm__c(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e&&(e.length?e:"/");$.each($(".btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]'),function(){if(Convert.uriEncodeComponent($(this).text())==e)return $(this).parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_unbookmark")),!1;$(this).parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star-o" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_bookmark"))}).promise().done(function(){setTimeout(function(){f_m__bm__cm()},100)})}function f_m__bm__u(){var e=$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(),e=void 0!==e?e.length?e:Convert.uriEncodeComponent("/"):"",t=$(".file-manager .btn-group > .at-o__f_m-favorites-dropdown").find('li a[href*="index.cgi?path="]').filter(function(){return Convert.uriEncodeComponent($(this).text())===e});return t.length?(t.parents(".at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star-o" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_bookmark")),t.parent("li").remove()):($($v__fm__container_fluid+" .btn-group > .at-o__f_m-favorites-dropdown").find('a[href^="bookmark.cgi?path="]').html('<i class="fa fa-fw fa-star" aria-hidden="true">&nbsp;&nbsp;</i>'+theme_language("theme_xhred_filemanager_unbookmark")),$("body.file-manager").find("ul.dropdown-menu.at-o__f_m-favorites-dropdown").append('<li><a href="index.cgi?path='+Convert.uriEncodeComponent(e)+'" style="padding-left: 12px;"><i class="fa fa-fw fa-minus-circle pull-right file-manager-remove-bookmark"></i>'+Convert.htmlEscape(Convert.uriDecodeComponent(e))+"</a></li>")),f_m__bm__cm(),t}function __f___upd___cr(e,t){var a=$("body.file-manager"),_="";a.find(".breadcrumb").empty(),0==get_access_level()||1==get_access_level()?a.find(".breadcrumb").append('<li class="fm___root__"><a href="index.cgi?path="><i class="fa fa-folder-root"></i></a></li>'):a.find(".breadcrumb").append('<li class="fm___root__"><a href="index.cgi?path="><i class="fa fa-home text-light"></i></a></li>'),$.each($(e),function(e,t){if(_+=""!=t?"/"+t:"",""!=t){var n='<i data-path="'+Convert.uriEncodeComponent(_.replace(t,""))+'" class="fa fa-fw fa-lg fa-caret-right margined-left-4"></i>';3==get_access_level()&&_.indexOf(v___server_userhome+"/")===-1&&(n=""),a.find(".breadcrumb").append('<li><a href="index.cgi?path='+Convert.uriEncodeComponent(_)+'">'+Convert.htmlEscape(t)+n+"</a></li>")}}).promise().done(function(){$.isEmptyObject(t)?$($v__fm__container_fluid+" .breadcrumb li:first-child").find(".fa.fa-keyboard-o").length||$($v__fm__container_fluid+" a.popover-path").length||($($v__fm__container_fluid+" .breadcrumb li:first-child").prepend('<a class="fa fa-fw fa-keyboard-o popover-path" style="position: absolute; margin-left: -12px; margin-top: 4px; font-size: 80%;" data-container="body" data-toggle="popover-path" data-placement="'+(1!=config_portable_module_filemanager_hide_toolbar?"auto right":"auto left")+'" data-html="true" data-trigger="click" data-content=\'<div class="form-horizontal"> <div class="input-group input-group-sm"> <span class="input-group-addon"><i class="fa fa-fw fa-folder-open-o"></i></span><input type="text" class="form-control popover-path-input" placeholder="'+theme_language("theme_xhred_filemanager_manual_path")+'"> <span class="input-group-btn" style="width:0;"> <button class="btn btn-sm btn-default popover-path-button" type="button"><i class="fa fa-fw fa-chevron-circle-right text-lighter"></i><span class="cspinner hidden" style="margin-top: 2px; margin-left: -17px;"><span class="cspinner-icon small"></span></span></button> </span> </div> </div>\'></a>'),1!=config_portable_module_filemanager_hide_toolbar&&($($v__fm__container_fluid+" .fa.fa-keyboard-o.popover-path").detach().appendTo(".breadcrumb li:last-child"),$($v__fm__container_fluid+" .fa.fa-keyboard-o.popover-path").css("margin-left","2px")),$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover()):(a.find(".breadcrumb li a").removeAttr("href").replaceTagName("span"),a.find(".breadcrumb li:last-child span").after($(t[0])),a.find(".breadcrumb li:first-child").replaceWith('<li class="fm___root__ text-light"><span><i class="fa fa-search text-light"></i></span></li>'),$($v__fm__container_fluid+" div.total").html(t[1]))})}function __f___upd___tb(e,t){var a=e.replace(/\/$/,"").split("/").slice(-1)[0];a=a?a:"/",t?($($v__fm__container_fluid+' li a[href="#tab-'+t+'"] span[data-tab-path]').text(a).attr("data-original-title",e?Convert.htmlEscape(e):"/"),$("#file-manager-new-instance").removeClass("disabled").find("span.cspinner").parent("span").replaceWith('<i class="fa fa-plus"></i>')):$($v__fm__container_fluid+" li.active a span[data-tab-path]").text(a).attr("data-original-title",e?Convert.htmlEscape(e):"/")}function __f___up__tb_store(){if(!page.handle.content.preloader(-1)){var e=[],t=v___server_username;$t_uri_virtualmin&&(t+="_"+$('[name="dom"]').val()),$($v__fm__container_fluid+" .nav.nav-tabs li a span[data-original-title]").each(function(t,a){var _=$(a).attr("data-original-title").replace(/\/$/,"");e.push(_)}).promise().done(function(){var a={};a[t]=e;var _=JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs"));$.isEmptyObject(_)||delete _[t];var n=$.extend({},a,_);localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs",JSON.stringify(n))})}}function __f___ld__tb_stored_chk(){var e=JSON.parse(localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_remembered_tabs")),t=v___server_username;return $t_uri_virtualmin&&(t+="_"+$('[name="dom"]').val()),!$.isEmptyObject(e)&&e[t]}function __f___ld__tb_stored(){var e=__f___ld__tb_stored_chk();$.isArray(e)&&$.each($(e),function(e,t){__f___nt(t,!1,e)})}function __f___up__tb_vis(){1===$($v__fm__container_fluid+" .nav.nav-tabs li").length?$($v__fm__container_fluid+" .nav.nav-tabs li:first-child").addClass("hidden"):$($v__fm__container_fluid+" .nav.nav-tabs li:first-child").removeClass("hidden")}function __f___up__d(e,t,a){var _=Convert.htmlUnEscape(Convert.uriDecodeComponent(e)).replace("//","/").replace("index.cgi?path=",""),n=_.split("/");$("body.file-manager");$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("hide"),$($v__fm__container_fluid+" .popover-path-button").find("i").removeClass("invisible").parent().find(".cspinner").addClass("hidden"),__f___upd___cr(n,a),__f___upd___tb(_,t),_?$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').removeClass("hidden"):$($v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').addClass("hidden"),$.each($($v__fm__container_fluid+' .modal .modal-body form input[name="path"]'),function(){$(this).val(_)}),$($v__fm__container_fluid+' ul li a[href^="bookmark.cgi?path="]').attr("href","bookmark.cgi?path="+Convert.htmlEscape(_)),f_m__bm__c(),plugins.favorites.detect(),setTimeout(function(){theme_title_generate(),__r____changed(),__f___up__tb_vis(),__f___up__tb_store()},0)}function __f___new_symlink(e,t){$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/create_symlink.cgi?module="+v___module+__f___um()+"&path="+e+"&name="+t,data:!1,dataType:"text",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);if(g=$.parseHTML(t),!$(g[1]).find("table.ui_columns").length)return plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+t,10,"error",a+"_error"),void __f_____ul();var a=Convert.htmlUnEscape(Convert.uriDecodeComponent(e)).replace("//","/").replace("index.cgi?path=","");__f___u("upd",$(g[1]).find("table.ui_columns").find(".ui_checked_columns"),1,a,!1,$(g[0]).text())},error:function(e){}})}function __f___nt(e,t,a){var _=Convert.uriEncodeComponent(Convert.htmlUnEscape(e)),a=void 0!==a&&0===a;$this=$("#file-manager-new-instance"),$this.blur(),$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled"),tab___to______create+=1,$($v__fm__container_fluid+" .tabs-top > .nav.nav-tabs").append('<li class="ui-sortable-handle"><a href="#tab-'+tab___to______create+'" data-toggle="tab"><i class="fa fa-fw fa-close-box pull-right invisible"></i><span data-tab-path data-container="#content .panel-body" data-toggle="tooltip" data-placement="auto top"><span style="margin-top: 2px; margin-left: -3px" class="cspinner"><span class="cspinner-icon smaller"></span></span>&nbsp;</span></a></li>'),$($v__fm__container_fluid+" .tabs-top > .tab-content").append('<div class="tab-pane fade" id="tab-'+tab___to______create+'">\t    \t\t<form class="ui_form" role="form" action="" method="post" id="list_form_AuthenticThemeTmp'+tab___to______create+'" name="list_form_AuthenticThemeTmp'+tab___to______create+'">\t    \t\t\t<table class="table table-striped table-hover table-condensed"><tbody></tbody></table>\t    \t\t\t<input class="ui_hidden heighter-34" type="hidden" name="path_AuthenticThemeTmp'+tab___to______create+'" id="path_AuthenticThemeTmp'+tab___to______create+'" value="'+_+'">\t    \t\t</form>\t        </div>');var n=$($v__fm__container_fluid+" .active table thead").clone();n.removeClass("hidden"),n.prependTo("#list_form_AuthenticThemeTmp"+tab___to______create+" table"),__f____r("get","index.cgi?path="+_,!1,0,[tab___to______create,t,a]),setTimeout(function(){},0),tab___is______new=!0}function __f____r(e,t,a,_,n,i){if(f__ck_init_err(1))return void f__ck_init_err();if(void 0===i&&(i=!1),"object"==typeof n)var o=n[2],r=n[1],n=n[0];else var r=!0;t&&!$.isArray(t)&&(t=uriEncodeParam(t,"path"));var l=Convert.htmlUnEscape(URI.parseQuery(URI(t).query()).path.replace("//","/"));if(void 0===n&&(n=!1),"get"===e){if("undefined"!=typeof getflist&&i&&(getflist.abort(),__f_____ul()),__f__ck_lock()&&r)return;__f_____lo(!0,!0),l=encodeURIComponent(l),getflist=$.ajax({xhr:function(){return new window.XMLHttpRequest},type:"POST",url:v___server_extensions_path+"/file-manager/list.cgi?path="+l+"&module="+v___module_file_manager,data:!1,dataType:"html",success:function(a){if(Test.strContains(a,v___page_signin_form))return void(v___available_session=0);if(theme_message_dismiss("refreshDir_info"),j=$.parseHTML(a),!$(j[1]).find("table").length)return $(j[10]).is("h3")&&3==get_access_level()?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+$(j[10]).text().replace(" :",":").replace(" ,",","),15,"error","getPath_error"):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+a,15,"error","getPath_error"),__f_____ul(),$($v__fm__container_fluid+" .active table .cspinner").remove(),void(n&&($($v__fm__container_fluid+' a[href="#tab-'+n+'"]').parent("li").remove(),$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+n+'"]').remove()));$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("hide");var i=Convert.uriEncodeComponent(Convert.htmlUnEscape(Convert.uriDecodeComponent(t)).replace("//","/").replace("index.cgi?path=",""));!n&&$($v__fm__container_fluid_form+' > input[type="hidden"][name="path"]').val(i),r&&$($v__fm__container_fluid+" div.total").append(__f___tl_v());var s=$(j[0]).append(__f___tl_v()).html();r&&$($v__fm__container_fluid+" .total").html(s),n?$($v__fm__container_fluid+' .tab-pane[id="tab-'+n+'"]').data("totalValue",s):$($v__fm__container_fluid+" .tab-pane.active form table").data("totalValue",s),__f___u("upd",$(j[1]).find("table").find(".ui_checked_columns"),_,!1,[n,r,Convert.uriDecodeComponent(l),s,o],$(e[0]).text()),$("._select-unselect_").parent(".awcheckbox").remove(),$("#__f__c__m").css("display","none"),setTimeout(function(){__f___us_a(),"function"==typeof sortable&&sortable($($v__fm__container_fluid+" .tabs-top > ul.nav"))},10)},error:function(){}})}}function __f___us_a(){if(0==get_access_level()&&1==config_portable_module_filemanager_switch_user){var e=$($v__fm__container_fluid+" #path").val();e&&e.indexOf($g__v__home_base)>-1&&e!=$g__v__home_base?$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&list_users=1",data:!1,dataType:"JSON",success:function(t){if(Test.strContains(t,v___page_signin_form))return void(v___available_session=0);$.each(Convert.arrFlip(t),function(t,a){var _=Convert.uriEncodeComponent(t.split(":")[2]);(e==_||e.startsWith(_+"%2F"))&&localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode",a),__f___us_tl()})},error:function(e){}}):(__f___us_m_def(),__f___us_tl())}}function __f___us_m_def(){localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode","")}function __f___us_tl(){var e=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),t=theme_language("theme_xhred_filemanager_user_switch")+"<br><hr class='hr-dashed hr-no-margin hr-darker'>"+theme_language("theme_xhred_filemanager_user_switch_current_user")+": <em>"+(e?e:v___server_username)+"</em>",a="#file-manager-switch-user";$(a).attr("data-original-title",t),e?$(a).addClass("btn-warning"):$(a).removeClass("btn-warning")}function __f___tl_v(){return'. <span class="total_selected">'+theme_language("theme_xhred_filemanager_selected_entries").replace("%value","<span>0</span>")+'</span> <span class="label label-warning total_size hidden"><span class="total_size_data"></span></span>'}function ___f__tw(){function e(e){void 0===e&&(e=$('input[name="config_portable_module_filemanager_hide_toolbar"]:checked'));var t=["config_portable_module_filemanager_hovered_toolbar"];"true"==e.val()?$.each(t,function(e,t){$('input[name="'+t+'"], select[name="'+t+'"]').prop("disabled",!0),$('input[name="'+t+'"], select[name="'+t+'"]').parent(".aradio").addClass("disabled")}):$.each(t,function(e,t){$('input[name="'+t+'"], select[name="'+t+'"]').prop("disabled",!1),$('input[name="'+t+'"], select[name="'+t+'"]').parent(".aradio").removeClass("disabled")})}function t(){g=!1}function a(){$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_command_exists=1&xhr-get_command_exists_name=zip",data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);e?$($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!1):($($v__fm__container_fluid+' select[name="method"]').val("tar"),$($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!0),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_global_no_such_command").replace("%cmd","zip"),15,"error"))},error:function(e){}})}__f___globals(),__f_____undel();var _=config_portable_module_filemanager_hide_tree_view?' class="hidden"':"",n=config_portable_module_filemanager_hide_tree_view?" hidden":"",o=document.body;if($(o).attr("class")&&$(o).attr("class").indexOf(v___module_file_manager)>-1){if($__f__rf_s="fa-refresh","object"!=typeof jsPanel&&$.getScript(v___location_prefix+"/unauthenticated/js/jquery.jspanel."+v___source_type+".js?"+v___theme_version_plain,function(e,t,a){$('head link[rel="stylesheet"]:first').before('<link href="'+v___location_prefix+"/unauthenticated/css/jquery.jspanel."+v___source_type+".css?"+v___theme_version_plain+'" rel="stylesheet" type="text/css">')}),setTimeout(function(){$($v__fm__container_fluid+" #upload-form").removeAttr("onsubmit"),$($v__fm__container_fluid+" #upload-form").append("<p>"+theme_language("theme_xhred_upload_initial_info")+"</p>"),$($v__fm__container_fluid+' #upload-form input[name="upfiles"]').removeClass("heighter-28"),$($v__fm__container_fluid+" #readyForUploadDialog .modal-footer").prepend('<button type="button" data-upload-reset class="btn btn-default pull-left"><i class="fa fa-fw fa-times-circle"></i> '+theme_language("theme_xhred_global_reset")+"</button>"),$($v__fm__container_fluid+' #readyForUploadDialog button[onclick="uploadFiles()"]').addClass("disabled").html('<i class="fa fa-fw fa-check-circle"></i> '+theme_language("theme_xhred_global_upload")),$($v__fm__container_fluid+" #readyForUploadDialog #readyForUploadList").remove()},100),"config.cgi"==v___location_file){$('input[name="per_page"], input[name="disable_pagination"], input[name="menu_style"]').parents("td.col_value").parent("tr").addClass("hidden"),$("#columns_size").parent(".awobject").remove(),$('input[value="size"]').parent(".awcheckbox").addClass("hidden");var r=$('input[name="columns"]:visible');$('form[action="save_config.cgi"]').append('<input type="hidden" name="columns" value="size">');var l=$(".table-subtable .sub_table_container.table-hardcoded").find("tbody")
;l.append('      <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_records_per_page")+'</b></td>        <td class="col_value">          <select class="ui_select" name="config_portable_module_filemanager_records_per_page">            <option value="5">5</option>            <option value="10">10</option>            <option value="15">15</option>            <option value="20">20</option>            <option value="25">25</option>            <option value="30">30 ('+theme_language("theme_xhred_global_default")+')</option>            <option value="35">35</option>            <option value="40">40</option>            <option value="45">45</option>            <option value="50">50</option>            <option value="55">55</option>            <option value="60">60</option>            <option value="70">70</option>            <option value="80">80</option>            <option value="90">90</option>            <option value="100">100</option>            <option value="250">250</option>            <option value="500">500</option>            <option value="1000">1000</option>          </select>        </td>      </tr>      <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_sorting")+'</b></td>        <td class="col_value">          <select class="ui_select" name="config_portable_module_filemanager_default_sort">            <option value="0" data-empty></option>            <option data-label disabled>'+theme_language("theme_xhred_filemanager_sorting_asc")+'</option>            <option data-head-name value="name">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_name")+'</option>            <option data-head-type value="type">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_type")+'</option>            <option data-head-size value="size">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_size")+'</option>            <option data-head-owner_user value="owner_user">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_ownership")+'</option>            <option data-head-permissions value="permissions">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_permissions")+'</option>            <option data-head-attributes value="attributes"'+($('input[value="attributes"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_attributes")+'</option>            <option data-head-selinux value="selinux"'+($('input[value="selinux"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_selinux")+'</option>            <option data-head-last_mod_time value="last_mod_time">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_last_mod_time")+"</option>            <option data-label disabled>"+theme_language("theme_xhred_filemanager_sorting_desc")+'</option>            <option data-head-name value="name--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_name")+'</option>            <option data-head-type value="type--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_type")+'</option>            <option data-head-size value="size--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_size")+'</option>            <option data-head-owner_user value="owner_user--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_ownership")+'</option>            <option data-head-permissions value="permissions--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_permissions")+'</option>            <option data-head-attributes value="attributes--"'+($('input[value="attributes"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_attributes")+'</option>            <option data-head-selinux value="selinux--"'+($('input[value="selinux"][type="checkbox"]').length?"":' class="hidden"')+">&nbsp;"+theme_language("theme_xhred_filemanager_sorting_by_selinux")+'</option>            <option data-head-last_mod_time value="last_mod_time--">&nbsp;'+theme_language("theme_xhred_filemanager_sorting_by_last_mod_time")+'</option>          </select>        </td>      </tr>        <tr>        <td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_tree_view")+'</b></td>        <td class="col_value"><span>        <span class="awradio awobject">        <input class="iawobject" name="config_portable_module_filemanager_hide_tree_view" id="config_portable_module_filemanager_hide_tree_view_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_tree_view)?"":" checked")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_hide_tree_view_0">'+theme_language("theme_xhred_global_yes")+'</label>        <input class="iawobject" name="config_portable_module_filemanager_hide_tree_view" id="config_portable_module_filemanager_hide_tree_view_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_tree_view)?" checked":"")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_hide_tree_view_1">'+theme_language("theme_xhred_global_no")+'</label>        </span>        </span></td>        </tr>        <tr>        <td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_expand_search")+'</b></td>        <td class="col_value"><span>        <span class="awradio awobject">        <input class="iawobject" name="config_portable_module_filemanager_tree_expand_search" id="config_portable_module_filemanager_tree_expand_search_1" value="true"'+(Test.true(config_portable_module_filemanager_tree_expand_search)?" checked":"")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_tree_expand_search_1">'+theme_language("theme_xhred_global_yes")+'</label>        <input class="iawobject" name="config_portable_module_filemanager_tree_expand_search" id="config_portable_module_filemanager_tree_expand_search_0" value="false"'+(Test.true(config_portable_module_filemanager_tree_expand_search)?"":" checked")+' type="radio">        <label class="lawobject" for="config_portable_module_filemanager_tree_expand_search_0">'+theme_language("theme_xhred_global_no")+'</label>        </span>        </span></td>        </tr>        <tr>          <td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_view_depth")+'</b></td>          <td class="col_value">            <select class="ui_select" name="config_portable_module_filemanager_tree_view_depth">              <option value="1">1</option>              <option value="2">2 ('+theme_language("theme_xhred_global_default")+')</option>              <option value="3">3</option>              <option value="4">4</option>              <option value="5">5</option>              <option value="6">6</option>              <option value="7">7</option>              <option value="8">8</option>              <option value="9">9</option>              <option value="10">10</option>              <option value="15">15</option>              <option value="20">20</option>              <option value="25">25</option>              <option value="50">50</option>              <option value="100">100</option>              <option value="0">'+theme_language("theme_xhred_global_unlimited")+"</option>            </select>          </td>        </tr>\t\t\t\t<tr"+(0!==get_access_level()&&1!==get_access_level()&&' class="hidden-force"')+'>\t\t\t\t\t<td class="col_label">&nbsp;&nbsp;<b>'+theme_language("theme_xhred_filemanager_tree_exclude_on_first_load")+'</b>&nbsp;<sup><span title="/cdrom, /dev, /lib, /lost+found, /mnt, /proc, /run, /snaps, /sys, /tmp"><i class="fa font-size-75p fa-question-circle text-light"></i></span></sup></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_tree_exclude_on_first_load" id="config_portable_module_filemanager_tree_exclude_on_first_load_1" value="true"'+(Test.true(config_portable_module_filemanager_tree_exclude_on_first_load)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_tree_exclude_on_first_load_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_tree_exclude_on_first_load" id="config_portable_module_filemanager_tree_exclude_on_first_load_0" value="false"'+(Test.true(config_portable_module_filemanager_tree_exclude_on_first_load)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_tree_exclude_on_first_load_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t  </span></td>\t\t\t\t</tr>        <tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_toolbar")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hide_toolbar" id="config_portable_module_filemanager_hide_toolbar_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_toolbar)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hide_toolbar_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hide_toolbar" id="config_portable_module_filemanager_hide_toolbar_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_toolbar)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hide_toolbar_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t  </span></td>\t\t\t\t</tr>        <tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hovered_toolbar")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hovered_toolbar" id="config_portable_module_filemanager_hovered_toolbar_1" value="true"'+(Test.true(config_portable_module_filemanager_hovered_toolbar)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hovered_toolbar_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hovered_toolbar" id="config_portable_module_filemanager_hovered_toolbar_0" value="false"'+(Test.true(config_portable_module_filemanager_hovered_toolbar)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hovered_toolbar_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>\t\t\t\t<tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_hide_actions")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hide_actions" id="config_portable_module_filemanager_hide_actions_1" value="true"'+(Test.true(config_portable_module_filemanager_hide_actions)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hide_actions_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_hide_actions" id="config_portable_module_filemanager_hide_actions_0" value="false"'+(Test.true(config_portable_module_filemanager_hide_actions)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_hide_actions_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>\t\t\t\t<tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_settings_tabs_remember_state")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_remember_tabs" id="config_portable_module_filemanager_remember_tabs_1" value="true"'+(Test.true(config_portable_module_filemanager_remember_tabs)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_remember_tabs_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_remember_tabs" id="config_portable_module_filemanager_remember_tabs_0" value="false"'+(Test.true(config_portable_module_filemanager_remember_tabs)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_remember_tabs_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>\t\t\t\t<tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_context_calculate_size")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_calculate_size" id="config_portable_module_filemanager_calculate_size_1" value="true"'+(Test.true(config_portable_module_filemanager_calculate_size)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_calculate_size_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_calculate_size" id="config_portable_module_filemanager_calculate_size_0" value="false"'+(Test.true(config_portable_module_filemanager_calculate_size)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_calculate_size_0">'+theme_language("theme_xhred_global_no")+'</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>        <tr>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_settings_force_tar_download")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_force_tar" id="config_portable_module_filemanager_force_tar_1" value="true"'+(Test.true(config_portable_module_filemanager_force_tar)?" checked":"")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_force_tar_1">'+theme_language("theme_xhred_global_yes")+'</label>\t\t\t\t\t\t<input class="iawobject" name="config_portable_module_filemanager_force_tar" id="config_portable_module_filemanager_force_tar_0" value="false"'+(Test.true(config_portable_module_filemanager_force_tar)?"":" checked")+' type="radio">\t\t\t\t\t\t<label class="lawobject" for="config_portable_module_filemanager_force_tar_0">'+theme_language("theme_xhred_global_no")+"</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>        <tr"+(0!=get_access_level()?' class="hidden"':"")+'>\t\t\t\t\t<td class="col_label"><b>'+theme_language("theme_xhred_filemanager_user_switch_option")+'</b></td>\t\t\t\t\t<td class="col_value"><span>\t\t\t\t\t<span class="awradio awobject">          <input class="iawobject" name="config_portable_module_filemanager_switch_user" id="config_portable_module_filemanager_switch_user_1" value="true"'+(Test.true(config_portable_module_filemanager_switch_user)?" checked":"")+' type="radio">          <label class="lawobject" for="config_portable_module_filemanager_switch_user_1">'+theme_language("theme_xhred_global_yes")+'</label>          <input class="iawobject" name="config_portable_module_filemanager_switch_user" id="config_portable_module_filemanager_switch_user_0" value="false"'+(Test.true(config_portable_module_filemanager_switch_user)?"":" checked")+' type="radio">          <label class="lawobject" for="config_portable_module_filemanager_switch_user_0">'+theme_language("theme_xhred_global_no")+"</label>\t\t\t\t\t</span>\t\t\t\t</span></td>\t\t\t\t</tr>\t\t\t");var s=$('textarea[name="bookmarks"]').parents("td.col_value").parent("tr").detach();l.append(s),e();var d='input[name="config_portable_module_filemanager_hide_toolbar"]';$(d).on("change.fm",function(){e($(this))});var f='select[name="config_portable_module_filemanager_records_per_page"], select[name="config_portable_module_filemanager_default_sort"], input[name="config_portable_module_filemanager_hide_tree_view"], input[name="config_portable_module_filemanager_tree_expand_search"], select[name="config_portable_module_filemanager_tree_view_depth"], input[name="config_portable_module_filemanager_tree_exclude_on_first_load"], input[name="config_portable_module_filemanager_hide_toolbar"], input[name="config_portable_module_filemanager_hovered_toolbar"], input[name="config_portable_module_filemanager_hide_actions"], input[name="config_portable_module_filemanager_remember_tabs"], input[name="config_portable_module_filemanager_switch_user"], input[name="config_portable_module_filemanager_calculate_size"], input[name="config_portable_module_filemanager_force_tar"]',c=$('select[name="config_portable_module_filemanager_tree_view_depth"]'),m=$('input[name="config_portable_module_filemanager_tree_expand_search"], input[name="config_portable_module_filemanager_tree_exclude_on_first_load"]');$(f).on("change.fm",function(){var e=$(this).attr("name"),t=$(this).val();"false"===t?t=!1:"true"===t&&(t=!0),"config_portable_module_filemanager_switch_user"==e&&__f___us_m_def(),"config_portable_module_filemanager_hide_tree_view"==e&&(t?c.parent("td").parent("tr").addClass("hidden"):c.parent("td").parent("tr").removeClass("hidden"),t?m.parent().parent().parent("td").parent("tr").addClass("hidden"):m.parent().parent().parent("td").parent("tr").removeClass("hidden"))}),$('form[action*="save_config.cgi"]').on("submit.fm",function(e){$.each($(f),function(){var e=$(this).attr("name"),t=$(this).is('input[name^="config_portable_module_filemanager"]')?$("input[name="+e+"]:checked").val():$(this).val();"false"===t?t=!1:"true"===t&&(t=!0),localStorage.setItem(v___server_hostname+"-"+e,t),window[e]=t}).promise().done(function(){theme_config("save")})}),$('select[name="config_portable_module_filemanager_records_per_page"]').val(config_portable_module_filemanager_records_per_page),$('select[name="config_portable_module_filemanager_default_sort"]').val(config_portable_module_filemanager_default_sort),$('select[name="config_portable_module_filemanager_tree_view_depth"]').val(config_portable_module_filemanager_tree_view_depth),config_portable_module_filemanager_hide_tree_view&&c.parent("td").parent("tr").addClass("hidden"),config_portable_module_filemanager_hide_tree_view&&m.parent().parent().parent("td").parent("tr").addClass("hidden");var u=$('select[name="config_portable_module_filemanager_default_sort"]');u.find("option:not([disabled])").addClass("font-weight-normal font-style-normal"),r.on("change.fm",function(e){!$(this).is(":checked")&&Test.strContains(u.val(),$(this).attr("value"))&&u.val("0"),u.find("option[data-head-"+$(this).attr("value")+"]").prop("disabled",!$(this).is(":checked"))}),r.trigger("change")}else{if($($v__fm__container_fluid+" .panel-body").append('\t\t\t<div class="data-content-container">        <div data-tree-view'+_+'>        <div data-resizer></div>          <span class="cspinner centered-initial"><span class="cspinner-icon"></span></span>        </div>        <div class="tree-view-filter hidden-content '+n+'"><input type="text" placeholder="'+theme_language("theme_xhred_datatable_filter")+'"></div>        <div class="data-table">            <div class="tabs-top">                <ul class="nav nav-tabs">                    <li class="active ui-sortable-handle"><a href="#tab-1" data-toggle="tab"><i class="fa fa-fw fa-close-box pull-right invisible"></i><span data-tab-path data-container="body" data-toggle="tooltip" data-placement="auto top" data-title="/">/</span></a></li>                </ul>                <div class="tab-content">                    <div class="tab-pane fade in active" id="tab-1">                    </div>                </div>            </div>        </div>      </div>        '),$($v__fm__container_fluid_form).detach().appendTo("#tab-1"),"function"==typeof sortable){var d=$($v__fm__container_fluid+" .tabs-top > ul.nav");sortable(d).on("sortupdate.fm",function(){__f___up__tb_store()})}config_portable_module_filemanager_remember_tabs&&__f___ld__tb_stored_chk()&&__f___ld__tb_stored(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&home_base=1",data:!1,dataType:"JSON",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);$g__v__home_base=jQuery.isEmptyObject(e)?v___server_userhome:Convert.uriEncodeComponent(e.home_base)},error:function(e){}}),0==get_access_level()&&0==config_portable_module_filemanager_switch_user&&($("#headln2r .btn-group").prepend('<a href="#" id="file-manager-switch-user" data-toggle="tooltip" data-html="true" class="btn btn-link '+(__f___um()?"btn-warning ":"")+'text-lighter pull-left"><i class="fa fa-user-switch"></i></a>'),__f___us_tl(),$(o).attr("data-user-switch",1));var p=$("#headln2r .btn-group");p.prepend('<a href="#" id="file-manager-new-instance" data-container="body" data-toggle="tooltip" data-title="'+theme_language("theme_xhred_filemanager_new_tab")+'" class="btn btn-link text-lighter pull-left"><i class="fa fa-plus"></i></a>'),p.prepend('<a href="#" data-tree-toggle data-container="body" data-toggle="tooltip" data-title="'+theme_language("theme_xhred_filemanager_tree_view_toggle")+'" class="btn btn-link text-lighter pull-left"><i class="fa fa-tree-view fa-rotate-90"></i></a>'),p.find("i.fa.fa-cog").parent("a").attr("data-original-title",theme_language("theme_xhred_global_module_config"))}$(o).on("click.fm",".tab-pane.active .ui_checked_columns > .ui_checked_checkbox:nth-child(1) + td > a",function(e){e.preventDefault(),e.stopPropagation(),e.offsetX<=-23&&e.offsetX>=-37&&!$(e.target).is("img")&&$(this).trigger("contextmenu")}).on("click.fm",".symlink-text-string",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);$(o).append('<button class="hidden tmp-clipboard-obj" data-clipboard-text="'+Convert.htmlEscape(t.text())+'"></button>');var a=$(".file-manager .tmp-clipboard-obj"),_=new Clipboard(".tmp-clipboard-obj");a.trigger("click").remove(),_.destroy(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_link_to_clipboard").replace("%value",Convert.htmlEscape(t.text())),7,"info","link_to_clipboard")});var g;$(o).on("contextmenu.fm",function(){g=!0}),$(o).on("click.fm",t).on("mouseleave.fm",".popover:not(.file-manager-help)",function(e){var t=$(this);e.preventDefault(),e.stopPropagation(),g?$(o).one("click.fm",function(){t.popover("hide")}):t.popover("hide")}),$($v__fm__container_fluid+" div.total").append(__f___tl_v()),$($v__fm__container_fluid+" .tab-pane.active").data("totalValue",$("div.total").html()),$("body.file-manager #content").append('<ul id="__f__c__m" class="dropdown-menu" role="menu" style="display:none">                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-back="1"><i class="fa fa-fw fa-arrow-left"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-refresh="1"><i class="fa fa-fw fa-refresh"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-bookmarks="1"><i class="fa fa-fw fa-star"></i></a></li>                <li data-block data-go_up-target><a tabindex="-1" href="#" data-context-search="1"><i class="fa fa-fw fa-search"></i></a></li>                <li class="divider"></li>                \t\t            <li class="context-o__f_m-dependent-goto hidden"><a tabindex="-1" href="#" data-context-goto="1"><i class="fa fa-fw fa-folder-open-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_goto")+'</a></li>\t\t            <li class="divider context-o__f_m-dependent-goto"></li>\t\t            <li class="context-o__f_m-dependent-open-new-tab hidden"><a tabindex="-1" href="#" data-context-open-new-tab="1"><i class="fa fa-fw fa-tab"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_open_new_tab")+'</a></li>\t\t            <li class="divider context-o__f_m-dependent-open-new-tab hidden"></li>\t\t            <li class="dropdown-submenu prelocked" role="menu">\t\t            \t<a tabindex="-1" href="#" data-context-select-all="1"><i class="fa fa-fw fa-check-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_select_all")+'</a>\t\t            \t<ul class="dropdown-menu" role="menu">\t\t            \t\t<li><a tabindex="-1" href="#" data-context-deselect-all="1"><i class="fa fa-fw fa-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_deselect_all")+'</a></li>\t\t            \t</ul>\t\t            </li>\t\t            <li><a tabindex="-1" href="#" data-context-invert-selection="1"><i class="fa fa-fw fa-share-square-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_select_invert")+'</a></li>\t\t            <li data-go_up-target class="divider"></li>\t\t            <li data-go_up-target class="dropdown-submenu" role="menu">\t\t            \t<a tabindex="-1" href="#" data-prevent-default>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_new")+'</a>\t\t            \t<ul class="dropdown-menu" role="menu">                    <li><a tabindex="-1" href="#" data-context-newsymlink="1"><i class="fa fa-fw fa-smm fa-file-symlink margined-right--1 margined-left--1"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_symlink")+'</a></li>\t\t            \t\t<li data-go_up-target><a tabindex="-1" href="#" data-context-newfile="1"><i class="fa fa-fw fa-file-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")+'</a></li>\t\t            \t\t<li data-go_up-target><a tabindex="-1" href="#" data-context-newfolder="1"><i class="fa fa-fw fa-folder-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-newarchive="1"><i class="fa fa-fw fa-file-archive-o"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")+'</a></li>\t\t            \t\t<li data-go_up-target class="dropdown-submenu" role="menu">\t\t\t\t            \t<a tabindex="-1" href="#"><i class="fa fa-fw fa-exchange"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_transfer")+'</a>\t\t\t\t            \t<ul class="dropdown-menu" role="menu">\t\t\t\t            \t\t<li data-go_up-target><a tabindex="-1" href="#" data-context-upload="1"><i class="fa fa-fw fa-upload"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")+'</a></li>\t\t\t\t            \t\t<li data-go_up-target><a tabindex="-1" href="#" data-context-download="1"><i class="fa fa-fw fa-download"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")+'</a></li>\t\t\t\t            \t</ul>\t\t\t\t            </li>\t\t            \t</ul>\t\t            </li>\t\t            <li class="divider"></li>\t\t            <li class="dropdown-submenu prelocked" role="menu">\t\t            \t<a tabindex="-1" href="#" data-context-copy="1"><i class="fa fa-fw fa-files-o"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_copy")+'</a>\t\t            \t<ul class="dropdown-menu" role="menu">                    <li><a tabindex="-1" href="#" data-context-clipboard="1"><i class="fa fa-fw fa-clone"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_clipboard")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-clipboard-selection="2"><i class="fa fa-fw fa-sm fa2 fa2-copy-selection"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_clipboard_selection")+'</a></li>\t\t            \t</ul>\t\t            </li>\t\t            <li><a tabindex="-1" href="#" data-context-cut="1"><i class="fa fa-fw fa-scissors"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_cut")+'</a></li>\t\t            <li><a tabindex="-1" href="#" data-context-paste="1"><i class="fa fa-fw fa-clipboard"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_paste")+'</a></li>\t\t            <li class="divider"></li>\t\t            <li><a tabindex="-1" href="#" data-context-delete="1"><i class="fa fa-fw fa-trash"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_delete")+'</a></li>\t\t            <li class="divider"></li>                <li class="dropdown-submenu context-o__f_m-dependent-edit" role="menu">\t\t            \t<a tabindex="-1" href="#" data-context-edit="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_edit")+'</a>\t\t            \t<ul class="dropdown-menu" role="menu" context-o__f_m-dependent-htmledit="1">\t\t            \t\t<li><a tabindex="-1" href="#" context-o__f_m-dependent-htmledit="1"><i class="fa fa-fw fa-html"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_edit_html")+'</a></li>\t\t            \t</ul>\t\t            </li>\t\t            <li><a tabindex="-1" href="#" data-context-rename="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_rename")+'</a></li>\t\t            <li class="context-o__f_m-dependent-download"><a tabindex="-1" href="#" data-context-download-file="1">&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download_file")+'</a></li>\t\t            <li class="divider context-o__f_m-dependent-extract"></li>\t\t            <li class="context-o__f_m-dependent-extract"><a tabindex="-1" href="#" data-context-extract="1"><i class="fa fa-fw fa-extract-archive"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_extract")+'</a></li>\t\t            <li class="divider"></li>\t\t            <li class="dropdown-submenu context-properties" role="menu">\t\t            \t<a tabindex="-1" href="#" data-prevent-default>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_properties")+'</a>\t\t            \t<ul class="dropdown-menu dropdown-submenu-properties" role="menu">\t\t            \t\t<li><a tabindex="-1" href="#" data-context-calculate-selected-size="1"><i class="fa fa-fw fa-calculator"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_calculate_selected_size")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-chmod="1"><i class="fa fa-fw fa-cogs"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-chown="1"><i class="fa fa-fw fa-users"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-chattr="1"><i class="fa fa-fw fa-tags"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")+'</a></li>\t\t            \t\t<li><a tabindex="-1" href="#" data-context-chcon="1"><i class="fa fa-fw fa-shield"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")+"</a></li>\t\t            \t</ul>\t\t            </li>\t\t        </ul>"),$(o).on("click.fm","#__f__c__m li i.fa",function(e){$(this).parents("a").trigger("click")}).on("hidden.bs.modal",$v__fm__container_fluid,function(){$(".modal-backdrop").remove()}).on("click.fm",function(e){$(".tooltip").each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".tooltip").has(e.target).length||$(this).tooltip("hide")})}).on("click.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){e.preventDefault(),e.stopPropagation()
;var t=$($v__fm__container_fluid+" .breadcrumb span[data-tree]"),a=$($v__fm__container_fluid+" .breadcrumb .fa-caret-down"),_=$(this),n=_.attr("data-path"),i=n?n:"/";_.parent("a").attr("href");$dirCurrent=_.parent("a").text(),t.remove(),a.addClass("fa-caret-right").removeClass("fa-caret-down"),_.parent("a").next("span[data-tree]").length||(_.addClass("invisible").after('<span class="cspinner"><span class="cspinner-icon smallest"></span></span>'),$(this).removeClass("fa-caret-right").addClass("fa-caret-down"),_.parent("a").after('<span class="hidden" data-tree=""></div>'),$.ajax({type:"POST",url:v___location_prefix+"/index.cgi/?xhr-get_list=1&xhr-get_list_path="+i,data:!1,dataType:"JSON",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);$.each($(e),function(e,t){_.parent("a").next("span[data-tree]").append('<a href="index.cgi?path='+Convert.uriEncodeComponent(Convert.htmlEscape(i)+"/"+Convert.uriEncodeComponent(Convert.htmlEscape(t)))+'"><i class="fa fa-fw '+($dirCurrent==t?"fa-folder-open-o":"fa-folder-o")+'">&nbsp;&nbsp;</i>'+($dirCurrent==t?" <strong>"+Convert.htmlEscape(t)+"</strong>":" "+Convert.htmlEscape(t))+"</a>")}).promise().done(function(){_.removeClass("invisible").next(".cspinner").remove(),_.parent("a").removeClass("text-black"),_.parent("a").next("span[data-tree]").removeClass("hidden");var e=_.parent("a").next("span[data-tree]"),t=$("span[data-tree] i.fa-folder-open-o").parent("a");void 0!==t.offset()&&void 0!==e.offset()&&e.animate({scrollTop:t.offset().top-e.offset().top+e.scrollTop()},0)})},error:function(e){}}))}).on("mouseenter.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){$(this).parent("a").addClass("text-black")}).on("mouseleave.fm",$v__fm__container_fluid+" .breadcrumb .fa-caret-right",function(e){$(this).parent("a").removeClass("text-black")}).on("click.fm",function(e){var t=$($v__fm__container_fluid+" .breadcrumb a + span[data-tree]"),a=$($v__fm__container_fluid+" .breadcrumb .fa-caret-down");t.length&&(t.remove(),a.addClass("fa-caret-right").removeClass("fa-caret-down"))}),$.each($($v__fm__container_fluid+" .modal .modal-content .modal-footer"),function(e,t){$(this).wrapInner('<div class="btn-group"></div>')}),$($v__fm__container_fluid+" .btn-group.pull-right").find(".fa-check-square").removeClass("fa-check-square").addClass("fa-share-square-o"),$($v__fm__container_fluid+" #headln2l .help_popup").css("padding","6px 12px"),$($v__fm__container_fluid+" #headln2l .btn-group > a.btn:first-child > i").attr("data-title",theme_language("theme_xhred_global_dir_up")).attr("data-toggle","tooltip"),$($v__fm__container_fluid+' ul > li > a[href^="bookmark.cgi?path="]').parents("ul").addClass("at-o__f_m-favorites-dropdown").find(".fa-bookmark-o").removeClass("fa-bookmark-o").addClass("fa-fw fa-star-o"),$($v__fm__container_fluid+' div button[onclick="removeDialog()"]').addClass("disabled o__f_m-button-delete").removeAttr("onclick"),$($v__fm__container_fluid+' a[onclick="chmodDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chmod"),$($v__fm__container_fluid+' a[onclick="chownDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chown"),$($v__fm__container_fluid+' a[onclick="chattrDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chattr"),$($v__fm__container_fluid+' a[onclick="chconDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-chcon"),$($v__fm__container_fluid+' a[onclick="compressDialog()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-compress"),$($v__fm__container_fluid+' a[onclick="copySelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-copy"),$($v__fm__container_fluid+' a[onclick="cutSelected()"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-cut"),$($v__fm__container_fluid+' #chmodDialog input[id="perms"]').val(""),localStorage.getItem(v___server_hostname+"-copy")||localStorage.getItem(v___server_hostname+"-cut")?$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("o__f_m-button-paste"):$($v__fm__container_fluid+' a[onclick*="paste.cgi"]').removeAttr("onclick").parent("li").addClass("disabled o__f_m-button-paste"),$($v__fm__container_fluid+' form[name="chmod"] input[name="t_total"]').attr("type","number"),v___server_sestatus||($($v__fm__container_fluid+" li.o__f_m-button-chcon").addClass("hidden"),$($v__fm__container_fluid+" #__f__c__m a[data-context-chcon]").parent("li").addClass("hidden"),$($v__fm__container_fluid+" #__f__c__m .dropdown-submenu-properties").css("top","-74px")),$(o).on("click.fm",$v__fm__container_fluid+' button + .dropdown-menu.at-o__f_m-favorites-dropdown > li > a:not([href^="bookmark.cgi"])',function(){$(this).parents("ul").trigger("mouseleave")}),$.each($($v__fm__container_fluid+" .btn-group.pull-right .btn-group"),function(){$(this).find("button > .caret").css("margin-left","3px"),$(this).find("button + ul.dropdown-menu > li > a").css("padding-left","12px"),$(this).find("button + ul.dropdown-menu > li > a > i").append("&nbsp;&nbsp;"),$(this).find("ul").addClass("pull-right").find(".fa-paste").removeClass("fa-paste").addClass("fa-fw fa-clipboard").text("").after("&nbsp;&nbsp;"),$(this).find("ul").addClass("pull-right").find(".fa-search").addClass("fa-fw").text("").after("&nbsp;")}).promise().done(function(){f_m__bm__c()}),$(o).on("click.fm",$v__fm__container_fluid+" .file-manager-remove-bookmark",function(e){e.preventDefault(),e.stopPropagation();var t=URI.parseQuery(URI($(this).parent("a").attr("href")).query()).path;$(this).parent("a").parent("li").remove(),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/bookmark.cgi?path="+Convert.uriEncodeComponent(t)+"&module="+v___module_file_manager,data:!1,dataType:"text",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);f_m__bm__c(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-star-o"></i>'+theme_language("theme_xhred_filemanager_unbookmark_success").replace("%value",t?Convert.htmlEscape(t):"/"),5,"warning","bookmarkAddRemove")},error:function(e){}})}).on("mousemove.fm",function(e){$(this).data("mousePageX",e.pageX).data("mousePageY",e.pageY)}).on("MacIntel"!==window.navigator.platform||browser.detect.safari()?"click.fm":"mouseup.fm",".___f_m__q__:visible .ui_checked_columns",function(e){if(e.ctrlKey){if($(e.target).is('input[name="name"].iawobject'))return;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),$(this).find("td:first-child").trigger("contextmenu")}}),0!==get_access_level()&&1!==get_access_level()&&$(o).find($v__fm__container_fluid+" .breadcrumb li:first-child a").html('<i class="fa fa-home text-light">&nbsp;</i>'),$(o).find($v__fm__container_fluid+" .breadcrumb li:first-child").addClass("fm___root__"),__f___u(!1,!1,0,0),$($v__fm__container_fluid+' button[onclick="selectAll()"], '+$v__fm__container_fluid+' button[onclick="invertSelection()"]').click(function(){setTimeout(function(){__r____changed()},0)}),$(o).on("click.fm",$v__fm__container_fluid+' #headln2l > div.btn-group > a[href*="'+v___module_file_manager+'"][href*="index.cgi"]',function(e){e.preventDefault(),e.stopPropagation(),__f___b_dr(e)}).on("click.fm",$v__fm__container_fluid+" .breadcrumb li > a:not(.fa-keyboard-o), .breadcrumb li > a + span[data-tree] > a, .dropdown-menu.at-o__f_m-favorites-dropdown > li:not(.data-context-bookmarks) > a:not(.no_effect), .active table label > a.o__f_m-follow-file",function(e){e.preventDefault(),e.stopPropagation();var t="index.cgi?path=",a=0,_=$(e.target).find(".file-manager-add-bookmark, .file-manager-remove-bookmark").length;$(this).attr("href")&&$(this).attr("href").indexOf("/"+v___module_file_manager)===-1&&(t=$(this).attr("href")),"index.cgi?path=/"===t&&(t="index.cgi?path=");var n=t.indexOf("bookmark.cgi?")>-1;if(t&&n)return void(a=1);__f____r("get",t,!1,a,!1,void 0!==e.originalEvent),$($v__fm__container_fluid_form).find(".cspinner").remove(),!_&&$($v__fm__container_fluid+" .active i.fa-folder-btl").after('<span class="cspinner" style="margin-top: 1px; margin-left: 20px;"><span class="cspinner-icon smaller"></span></span>')}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-copy:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clone"></i>'+theme_language("theme_xhred_filemanager_copying_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"info","copy_info"),__f____a("copy",!1)}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-cut:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-scissors"></i>'+theme_language("theme_xhred_filemanager_cutting_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"warning","cut_warning"),__f____a("cut",!1)}).on("click.fm",$v__fm__container_fluid+' li.o__f_m-button-paste:not(".disabled") a',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_pasting_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","paste_info"),__f____a("paste",!1)}).on("click.fm",$v__fm__container_fluid+' a[href^="extract.cgi"]',function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_unpacking_archive")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","extract_info"),__f____a("extract",$(this).attr("href"))}),$(o).find($v__fm__container_fluid+' #removeDialog button[type="button"][onclick="removeSelected()"]').removeAttr("onclick").addClass("_at_filemanager_delete_submit"),$(o).on("click.fm",$v__fm__container_fluid+" #removeDialog button._at_filemanager_delete_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-trash-o"></i>'+theme_language("theme_xhred_filemanager_deleting_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","delete_info"),__f____a("delete",!1),theme_modal_dismiss()}),$($v__fm__container_fluid+" #removeDialog").on("show.bs.modal",function(){var e=$(this).find("#items-to-remove");e.empty(),$.each(_f__gr("checked"),function(){e.append(Convert.htmlEscape($(this).val())+"<br>")})}),$(o).find($v__fm__container_fluid+' #renameDialog button[type="button"][onclick="renameSelected()"]').removeAttr("onclick").addClass("_at_filemanager_rename_submit"),$(o).on("click.fm",$v__fm__container_fluid+" #renameDialog button._at_filemanager_rename_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-i-cursor"></i>'+theme_language("theme_xhred_filemanager_renaming_selected")+" "+theme_language("theme_xhred_global_please_wait"),10,"info","rename_info"),__f____a("rename",!1)}).on("submit.fm",$v__fm__container_fluid+" #renameDialog",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #renameDialog button._at_filemanager_rename_submit").trigger("click")}),$($v__fm__container_fluid+" #renameDialog").on("shown.bs.modal",function(){var e=$(this).find('input[type="text"]');e.focus(),e.select()}),$($v__fm__container_fluid+" #renameDialog").on("show.bs.modal",function(e){$(this).find('input[type="text"]'),$(this).find("button._at_filemanager_rename_submit")}),$($v__fm__container_fluid+' #renameDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #renameDialog").find("button._at_filemanager_rename_submit");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$(o).find($v__fm__container_fluid+' #createFolderDialog button[type="button"][onclick="createFolder()"]').removeAttr("onclick").addClass("_at_filemanager_create_folder_submit"),$(o).on("click.fm",$v__fm__container_fluid+" #createFolderDialog button._at_filemanager_create_folder_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-folder"></i>'+theme_language("theme_xhred_filemanager_creating_directory")+" `<strong>"+Convert.htmlEscape($('#createFolderForm input[name="name"]').val())+"</strong>`. "+theme_language("theme_xhred_global_please_wait"),10,"info","create_folder_info"),__f____a("create_folder",!1)}).on("submit.fm",$v__fm__container_fluid+" #createFolderForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #createFolderDialog button._at_filemanager_create_folder_submit").trigger("click")}),$($v__fm__container_fluid+" #createFolderDialog").on("shown.bs.modal",function(){$(this).find('input[type="text"]').focus()}),$($v__fm__container_fluid+" #createFolderDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),t=$(this).find("button._at_filemanager_create_folder_submit");e.val(""),!e.val()&&t.prop("disabled",!0)}),$($v__fm__container_fluid+' #createFolderDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #createFolderDialog").find("button._at_filemanager_create_folder_submit");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$(o).find($v__fm__container_fluid+' #createFileDialog button[type="button"][onclick="createFile()"]').removeAttr("onclick").addClass("_at_filemanager_create_file_submit"),$(o).on("click.fm",$v__fm__container_fluid+" #createFileDialog button._at_filemanager_create_file_submit",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file"></i>'+theme_language("theme_xhred_filemanager_creating_file")+" `<strong>"+Convert.htmlEscape($('#createFileForm input[name="name"]').val())+"</strong>`. "+theme_language("theme_xhred_global_please_wait"),10,"info","create_file_info"),__f____a("create_file",!1)}).on("submit.fm",$v__fm__container_fluid+" #createFileForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #createFileDialog button._at_filemanager_create_file_submit").trigger("click")}),$($v__fm__container_fluid+" #createFileDialog").on("shown.bs.modal",function(){$(this).find('input[type="text"]').focus()}),$($v__fm__container_fluid+" #createFileDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),t=$(this).find("button._at_filemanager_create_file_submit");e.val(""),!e.val()&&t.prop("disabled",!0)}),$($v__fm__container_fluid+' #createFileDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #createFileDialog").find("button._at_filemanager_create_file_submit");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$(o).find($v__fm__container_fluid+' #downFromUrlDialog button[type="button"][onclick="downFromUrl()"]').removeAttr("onclick").addClass("o__f_m-submitter-url_download"),$(o).on("click.fm",$v__fm__container_fluid+" #downFromUrlDialog button.o__f_m-submitter-url_download",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-download"></i>'+theme_language("theme_xhred_filemanager_downloading_from")+" <strong>"+URI(Convert.htmlEscape($('#downFromUrlForm input[name="link"]').val())).hostname()+"</strong>. "+theme_language("theme_xhred_global_please_wait"),1e6,"info","url_download_info"),__f____a("url_download",!1)}).on("submit.fm",$v__fm__container_fluid+" #downFromUrlForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #downFromUrlDialog button.o__f_m-submitter-url_download").trigger("click")}),$($v__fm__container_fluid+" #downFromUrlDialog").on("shown.bs.modal",function(){$(this).find('input[name="link"]').focus()}),$($v__fm__container_fluid+" #downFromUrlDialog").on("show.bs.modal",function(){var e=$(this).find('input[name="link"]'),t=$(this).find("button.o__f_m-submitter-url_download");!e.val()&&t.prop("disabled",!0)}),$($v__fm__container_fluid+' #downFromUrlDialog input[name="link"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #downFromUrlDialog").find("button.o__f_m-submitter-url_download");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$($v__fm__container_fluid+" #readyForUploadDialog").on("show.bs.modal",function(){var e=URI.parseQuery(URI($($v__fm__container_fluid+" #upload-form").attr("action")).query()).id;$($v__fm__container_fluid+" #upload-form").attr("action","upload.cgi?path="+Convert.uriEncodeComponent($("#upload-form").find('input[name="path"]').val())+"&id="+e),$(this).find("#upload-form").get(0).reset(),countUploads($(this).find("#upfiles")[0]),$(this).find(".file-input-name").remove(),$(this).find('button[onclick="uploadFiles()"]').addClass("disabled").find(".cspinner").replaceWith('<i class="fa fa-fw fa-check-circle"></i>')}),$(o).on("click.fm",$v__fm__container_fluid+" #readyForUploadDialog [data-upload-reset]",function(e){$("#upload-form").get(0).reset(),countUploads()}).on("submit.fm",$v__fm__container_fluid+" #upload-form",function(e){function t(e,t){var a=o.parent("div").prev(".modal-header").find('[data-dismiss-id="'+t+'"][data-dismiss="modal"]:visible');if(e)return a.length;a.trigger("click")}function a(e){i===e&&($____loader_block__manual=1,$($v__fm__container_fluid+" ."+$__f__rf_s).trigger("click"),$____loader_block__manual=0)}function _(e,_,n){l||(t(1)?(t(0,n),setTimeout(function(){a(e)},300)):a(e),l++)}e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var n=parseInt(1e18*Math.random()),i=$__path=$($v__fm__container_fluid+" #path").val(),o=$(this),r=1,l=0;$(this).parents("#readyForUploadDialog").find('button[onclick="uploadFiles()"]').addClass("disabled").find(".fa").replaceWith(theme_spinner_small(!1,"white","width:12px; height:12px; margin-right: 3px; margin-left: 3px;")),o.parent("div").prev(".modal-header").find('[data-dismiss="modal"]:visible').attr("data-dismiss-id",n),window["progress_id_ref_"+n]=$.ajax({type:"POST",url:v___location_prefix+"/"+v___module_file_manager+"/upload.cgi?path="+i+"&id="+n,processData:!1,contentType:!1,data:new FormData(o[0]),complete:function(e){_($($v__fm__container_fluid+" #path").val(),1,n),t(0,n)},error:function(e){_($($v__fm__container_fluid+" #path").val(),2,n),t(0,n),$("[data-progress-id="+n+"] .bottom_progress_cancel").trigger("click")}});var s;window["progress_id_ref_"+n+"_tracker"]=$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.addEventListener("progress",function(e){var _=e.target.responseText,i=regex.matches(_,/.file\.value\s+=\s+"(.*)";/g,0,1),o=regex.matches(_,/.size\.value\s+=\s+"(.*)";/g,0,1),l=regex.matches(_,/.pc\.value\s+=\s+"(.*)";/g,0,1);if(i&&o&&l){var l=parseInt((l.match(/|/g)||[]).length/50*100);if(l>100&&(l=100),progress_percent.control(n,"success",l,[i,o,l]),s||(s=i),s!=i){s=i;a($($v__fm__container_fluid+" #path").val())}r&&(t(0,n),r=0)}if(Test.strContains(_,v___page_signin_form))return v___available_session=0,window["progress_id_ref_"+n].abort(),void window["progress_id_ref_"+n+"_tracker"].abort()},!1),e},type:"GET",url:v___location_prefix+"/uptracker.cgi?id="+n+"&uid="+(0===get_access_level()||1===get_access_level()?"":get_server_data("user-id")),complete:function(e){_($($v__fm__container_fluid+" #path").val(),2,n),t(0,n)}})}),$(o).find($v__fm__container_fluid+' #searchDialog button[type="button"][onclick="search()"]').removeAttr("onclick").addClass("_at_filemanager_search_submit"),$(o).on("click.fm",$v__fm__container_fluid+" #searchDialog button._at_filemanager_search_submit",function(e){e.preventDefault(),e.stopPropagation(),__f____a("search",!1)}).on("submit.fm",$v__fm__container_fluid+" #searchForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #searchDialog button._at_filemanager_search_submit").trigger("click")}),$($v__fm__container_fluid+" #searchDialog").on("shown.bs.modal",function(){$(this).find('input[name="query"]').focus()}).on("show.bs.modal",function(){$($v__fm__container_fluid+' #searchDialog input[name="query"]').trigger("keyup"),$($v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0).val(""),$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_find")).removeClass("btn-warning").addClass("btn-primary")}).on("keyup.fm",'input[name="query"]',function(){$(this).val().length?$($v__fm__container_fluid+' input[name="grepstring"], '+$v__fm__container_fluid+' input[name="grepreplace"]').removeAttr("disabled"):$($v__fm__container_fluid+' input[name="grepstring"], '+$v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0),$($v__fm__container_fluid+' #searchDialog input[name="grepstring"]').trigger("keyup")}).on("keyup.fm",'input[name="grepstring"]',function(){$(this).val().length?$($v__fm__container_fluid+' input[name="grepreplace"]').removeAttr("disabled"):$($v__fm__container_fluid+' input[name="grepreplace"]').prop("disabled",!0)}).on("keyup.fm",'input[name="grepreplace"]',function(){$.trim($(this).val()).length?$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_replace")).removeClass("btn-primary").addClass("btn-warning"):$($v__fm__container_fluid+" ._at_filemanager_search_submit").text(theme_language("theme_xhred_global_find")).removeClass("btn-warning").addClass("btn-primary")}),$($v__fm__container_fluid+" #searchDialog").on("show.bs.modal",function(){var e=$(this).find('input[type="text"]'),t=$(this).find("button._at_filemanager_search_submit");!e.val()&&t.prop("disabled",!0)}),$(o).on("click.fm",$v__fm__container_fluid+" .__o__f_m-search-results-data",function(e){var e=$($v__fm__container_fluid+" #path").val();__f____r("get","index.cgi?path="+(e?Convert.uriEncodeComponent(e):""),!1,0)}),$($v__fm__container_fluid+' #searchDialog input[type="text"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #searchDialog").find("button._at_filemanager_search_submit");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$(o).on("click.fm",$v__fm__container_fluid+' a[href^="bookmark.cgi"]',function(e){e.preventDefault(),e.stopPropagation();var t=$(this).attr("href");"bookmark.cgi?path="===t&&(t+="/"),__f____a("bookmark",t)}),$('body .container-fluid #chmodDialog button[onclick="chmodSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chmod"),$(o).on("click.fm",$v__fm__container_fluid+" #chmodDialog button.o__f_m-submitter-chmod",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-user"></i>'+theme_language("theme_xhred_filemanager_setting_permissions").replace("%value",Convert.htmlEscape($("#perms").val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chmod_info"),__f____a("chmod",[$("#perms").val(),$('#chmodForm select[name="applyto"] option:selected').val()])}),$($v__fm__container_fluid+" #chmodDialog").on("shown.bs.modal",function(){var e=$($v__fm__container_fluid+' #chmodDialog input[id="perms"]');e.trigger("keyup").focus().select();var t=$($v__fm__container_fluid+" th span[data-head-permissions]").parent().index();if(t>1){var a=$v__fm__global_last_row.find("td:nth-child("+(t+1)+")").text();1===__f__cnt___selected()&&e.val(a).trigger("keyup")}}),$($v__fm__container_fluid+" #chmodDialog").on("hidden.bs.modal",function(){$($v__fm__container_fluid+' #chmodDialog input[id="perms"]').val("").keyup()}),$('body .container-fluid #chownDialog button[onclick="chownSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chown"),$(o).on("click.fm",$v__fm__container_fluid+" #chownDialog button.o__f_m-submitter-chown",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-users"></i>'+theme_language("theme_xhred_filemanager_changing_ownership").replace("%value",Convert.htmlEscape($('#chownForm input[name="owner"]').val())+":"+Convert.htmlEscape($('#chownForm input[name="group"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chown_info"),__f____a("chown",[$('#chownForm input[name="owner"]').val(),$('#chownForm input[name="group"]').val(),$('#chownForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chownDialog").on("shown.bs.modal",function(){$($v__fm__container_fluid+' #chownDialog input[name="owner"]').focus()}),$($v__fm__container_fluid+" #chownDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chown").prop("disabled",!0)}),$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #chownDialog").find("button.o__f_m-submitter-chown");$($v__fm__container_fluid+' #chownDialog input[name="owner"]').val()&&$($v__fm__container_fluid+' #chownDialog input[name="group"]').val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').on("keyup.fm",function(e){e.preventDefault(),13==e.which&&$($v__fm__container_fluid+" #chownDialog button.o__f_m-submitter-chown").trigger("click")}),$($v__fm__container_fluid+" #chownDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chownDialog input[name="owner"], '+$v__fm__container_fluid+' #chownDialog input[name="group"]').val(""),$($v__fm__container_fluid+' #chownDialog input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #chattrDialog button[onclick="chattrSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chattr"),$(o).on("click.fm",$v__fm__container_fluid+" #chattrDialog button.o__f_m-submitter-chattr",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-tags"></i>'+theme_language("theme_xhred_filemanager_changing_attributes").replace("%value",Convert.htmlEscape($('#chattrForm input[name="label"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chattr_info"),__f____a("chattr",[$('#chattrForm input[name="label"]').val(),$('#chattrForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chattrDialog").on("shown.bs.modal",function(){$($v__fm__container_fluid+' #chattrDialog input[name="label"]').focus()}),$($v__fm__container_fluid+" #chattrDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chattr").prop("disabled",!0)}),$($v__fm__container_fluid+' #chattrDialog input[name="label"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #chattrDialog").find("button.o__f_m-submitter-chattr");$($v__fm__container_fluid+' #chattrDialog input[name="label"]').val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$($v__fm__container_fluid+' #chattrDialog input[name="label"]').on("keyup.fm",function(e){e.preventDefault(),13==e.which&&$($v__fm__container_fluid+" #chattrDialog button.o__f_m-submitter-chattr").trigger("click")}),$($v__fm__container_fluid+" #chattrDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chattrDialog input[name="label"]').val(""),$($v__fm__container_fluid+' #chattrForm input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #chconDialog button[onclick="chconSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-chcon"),$(o).on("click.fm",$v__fm__container_fluid+" #chconDialog button.o__f_m-submitter-chcon",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-tags"></i>'+theme_language("theme_xhred_filemanager_changing_secontext").replace("%value",Convert.htmlEscape($('#chconForm input[name="label"]').val()))+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","chcon_info"),__f____a("chcon",[$($v__fm__container_fluid+' #chconForm input[name="label"]').val(),$($v__fm__container_fluid+' #chconForm input[name="recursive"]').prop("checked")])}),$($v__fm__container_fluid+" #chconDialog").on("shown.bs.modal",function(){$($v__fm__container_fluid+' #chconDialog input[name="label"]').focus()}),$($v__fm__container_fluid+" #chconDialog").on("show.bs.modal",function(){$(this).find("button.o__f_m-submitter-chcon").prop("disabled",!0);var e={};$.unique($($v__fm__container_fluid+" tr td span[data-secontext]").map(function(){e[$(this).text()]=$(this).text()}).get());var t=$.map(e,function(e,t){if("undefined"!=t)return{value:e,url:t,data:{category:0}}});"function"==typeof $().autocomplete&&function(e){$($v__fm__container_fluid+' #chconDialog input[name="label"]').autocomplete({lookup:t,onSelect:function(e){},showNoSuggestionNotice:!0,noSuggestionNotice:theme_language("theme_xhred_global_no_results_found")})}()}),$($v__fm__container_fluid+' #chconDialog input[name="label"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$($v__fm__container_fluid+" #chconDialog").find("button.o__f_m-submitter-chcon");$('#chconDialog input[name="label"]').val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$($v__fm__container_fluid+' #chconDialog input[name="label"]').on("keydown.fm",function(e){13!=e.which||$(".autocomplete-suggestions:visible").length||$($v__fm__container_fluid+" #chconDialog button.o__f_m-submitter-chcon").trigger("click")}),$($v__fm__container_fluid+" #chconDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #chconDialog input[name="label"]').val(""),$($v__fm__container_fluid+' #chconForm input[name="recursive"]').removeAttr("checked")}),$('body .container-fluid #compressDialog button[onclick="compressSelected()"]').removeAttr("onclick").addClass("o__f_m-submitter-compress").prop("disabled",!0),$(o).on("click.fm",$v__fm__container_fluid+" #compressDialog button.o__f_m-submitter-compress",function(e){e.preventDefault(),e.stopPropagation(),plugins.messenger.post('<i class="fa fa-lg fa-fw fa-file-archive-o"></i>'+theme_language("theme_xhred_filemanager_compressing_selected")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","compress_info",0),__f____a("compress",[Convert.htmlEscape($('#compressSelectedForm input[name="filename"]').val()),$('#compressSelectedForm select[name="method"] option:selected').val()])}),$($v__fm__container_fluid+' #compressDialog input[name="filename"]').on("keyup.fm change.fm click.fm input.fm",function(e){var t=$("#compressDialog").find("button.o__f_m-submitter-compress");$(this).val()?t.prop("disabled",!1):t.prop("disabled",!0)}),$(o).on("submit.fm",$v__fm__container_fluid+" #compressSelectedForm",function(e){e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" #compressDialog button.o__f_m-submitter-compress").trigger("click")}),$($v__fm__container_fluid+" #compressDialog").on("show.bs.modal",function(){$($v__fm__container_fluid+' #compressDialog input[name="filename"]').val("")}).on("shown.bs.modal",function(){$($v__fm__container_fluid+' #compressDialog input[name="filename"]').focus(),$($v__fm__container_fluid+' select[name="method"] option[value="zip"]').prop("disabled",!1),"zip"==$($v__fm__container_fluid+' select[name="method"]').val()&&a()}),$($v__fm__container_fluid+' select[name="method"]').change(function(e){"zip"==$(this).val()&&a()}),$(o).on("click.fm",$v__fm__container_fluid+" .dropdown-menu > li.disabled",function(e){e.preventDefault(),e.stopPropagation()}),"index.cgi"!==v___location_file||URI(v___location).hasQuery("path")||$($v__fm__container_fluid+" #headln2l").find('a[href*="'+v___module_file_manager+'"][href*="index.cgi"]').addClass("hidden"),$($v__fm__container_fluid+" .btn-group.pull-right > button:eq(2)").removeAttr("onclick"),$(o).on("click.fm",$v__fm__container_fluid+" .btn-group.pull-right > button:eq(2)",function(e){var t=$($v__fm__container_fluid+" #path").val()
;__f____r("get","index.cgi?path="+(t?Convert.uriEncodeComponent(t):""),!1,0),0===$____loader_block__&&0===$____loader_block__manual&&plugins.messenger.post('<i class="fa fa-lg fa-fw '+$__f__rf_s+'"></i>'+theme_language("theme_xhred_filemanager_refreshing")+" "+theme_language("theme_xhred_global_please_wait"),1e5,"info","refreshDir_info")}),setTimeout(function(){1!=config_portable_module_filemanager_hovered_toolbar&&$($v__fm__container_fluid+" .btn-group.pull-right > .btn-group > button").hover(function(e){e.preventDefault(),e.stopPropagation()})},100),$(o).on("click.fm",$v__fm__container_fluid+" .btn-group.pull-right > button:eq(0), "+$v__fm__container_fluid+" .btn-group.pull-right > button:eq(1), "+$v__fm__container_fluid+" input",function(){0!==$($v__fm__container_fluid+" .active table tbody input:checked").length?setTimeout(__f___ub,100):setTimeout(__f___lb,100)}),$($v__fm__container_fluid+" .o__f_m-button-chmod a").html('<i class="fa fa-fw fa-cogs" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")),$($v__fm__container_fluid+" #chmodDialog .modal-header h4").html('<i class="fa fa-fw fa-cogs" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chmod")),$($v__fm__container_fluid+" .o__f_m-button-chown a").html('<i class="fa fa-fw fa-users" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")),$($v__fm__container_fluid+" #chownDialog .modal-header h4").html('<i class="fa fa-fw fa-users" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chown")),$($v__fm__container_fluid+" .o__f_m-button-chattr a").html('<i class="fa fa-fw fa-tags" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")),$($v__fm__container_fluid+" #chattrDialog .modal-header h4").html('<i class="fa fa-fw fa-tags" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chattr")),$($v__fm__container_fluid+" .o__f_m-button-chcon a").html('<i class="fa fa-fw fa-shield" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")),$($v__fm__container_fluid+" #chconDialog .modal-header h4").html('<i class="fa fa-fw fa-shield" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_chcon")),$($v__fm__container_fluid+" .o__f_m-button-compress a").html('<i class="fa fa-fw fa-file-archive-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")),$($v__fm__container_fluid+" #compressDialog .modal-header h4").html('<i class="fa fa-fw fa-file-archive-o" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newarchive")),$($v__fm__container_fluid+" #searchDialog .modal-header h4").html('<i class="fa fa-fw fa-search" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_search")),$($v__fm__container_fluid+" .o__f_m-button-copy a").html('<i class="fa fa-fw fa-files-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_copy")),$($v__fm__container_fluid+" .o__f_m-button-cut a").html('<i class="fa fa-fw fa-scissors" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_cut")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFileDialog()"]').html('<i class="fa fa-fw fa-file-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")),$($v__fm__container_fluid+" #createFileDialog .modal-header h4").html('<i class="fa fa-fw fa-file-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfile")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFolderDialog()"]').parent("li").addClass("_createFolderDialog_"),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="createFolderDialog()"]').html('<i class="fa fa-fw fa-folder-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")),$($v__fm__container_fluid+" #createFolderDialog .modal-header h4").html('<i class="fa fa-fw fa-folder-o" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_newfoder")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="viewReadyForUpload()"]').html('<i class="fa fa-fw fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")),$($v__fm__container_fluid+" #readyForUploadDialog .modal-header h4").html('<i class="fa fa-fw fa-upload" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_upload")),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="downFromUrlDialog()"]').html('<i class="fa fa-fw fa-download" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")),$($v__fm__container_fluid+" #downFromUrlDialog .modal-header h4").html('<i class="fa fa-fw fa-download" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_download")),$($v__fm__container_fluid+" #renameDialog .modal-header h4").prepend('<i class="fa fa-fw fa-i-cursor" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'),$($v__fm__container_fluid+' .btn-group .btn-group a[onclick="downFromUrlDialog()"] i').removeClass("fa-globe").addClass("fa-download"),$($v__fm__container_fluid+" #removeDialog .modal-header h4").html('<i class="fa fa-fw fa-trash-o" aria-hidden="true"></i>&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_delete_selected")),$($v__fm__container_fluid+" .o__f_m-button-compress").detach().insertAfter("._createFolderDialog_");var h='<li class="o__f_m-button-symlink disabled"><a class="no_effect" style="padding-left: 12px;"><i class="fa fa-fw fa-sms fa-file-symlink margined-right--1 margined-left--1" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;'+theme_language("theme_xhred_filemanager_context_symlink")+"</a></li>";$($v__fm__container_fluid+" .btn-group ._createFolderDialog_").parent("ul").prepend(h),$($v__fm__container_fluid+" .btn-group .o__f_m-button-symlink").on("click",function(){if(!$(this).hasClass("disabled")){var e=__f__cnt___selected();e&&e.length;if(1===__f__cnt___selected()){__f___new_symlink($($v__fm__container_fluid+" #path").val(),e.find("td a[data-filemin-link]").attr("data-filemin-link"))}}}),config_portable_module_filemanager_hide_toolbar&&($($v__fm__container_fluid+" .btn-group.pull-right").addClass("hidden"),$($v__fm__container_fluid+" .breadcrumb.pull-left").removeClass("pull-left").addClass("pull-right").css("margin-bottom","-20px"),$($v__fm__container_fluid+" .o__f_m-main-spinner").css({"margin-top":"40px","margin-left":"170px"}));var d='.breadcrumb:visible [data-toggle="popover-path"]';$(o).on("inserted.bs.popover",d,function(){$(".popover-path-input").parents(".popover").addClass("popover-path-data")}).on("shown.bs.popover",d,function(){$(".popover-path-input").val(Convert.uriDecodeComponent($($v__fm__container_fluid+" #path").val())),$(".popover-path-input").focus(),$(".popover-path-input").keydown(function(e){13==(e.keyCode?e.keyCode:e.which)&&($(".breadcrumb").append('<li class="hidden popover-path-input-value"><a href="index.cgi?path='+Convert.uriEncodeComponent($(this).val())+'"></a></li>'),$(".popover-path-button").find("i").addClass("invisible").parent().find(".cspinner").removeClass("hidden"),$(".popover-path-input-value").find("a").trigger("click").remove(),$('[data-toggle="popover-path"]').popover("hide"),__f__ld__sh())}),setTimeout(function(){$(".popover-path-data").animate({opacity:1},vars.settings.animation_left_slide_time())},100)});var d=$v__fm__container_fluid+' [data-toggle="popover-path"]';$(o).on("hide.bs.popover",d,function(){$($v__fm__container_fluid+" .popover-path-data").css("opacity",0)}).on("click.fm",$v__fm__container_fluid+" .popover-path-button",function(){var e=jQuery.Event("keydown");e.which=13,$($v__fm__container_fluid+" .popover-path-input").trigger(e)}).on("contextmenu.fm",$v__fm__container_fluid+" .breadcrumb",function(e){e.preventDefault(),$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("show")}),$($v__fm__container_fluid+" #nothingSelected").remove(),$($v__fm__container_fluid+" .active ul.pagination li:first-child").trigger("click")}page.render.content.filter.init(),$($v__fm__container_fluid+' .modal-content input:not([type="radio"], '+$v__fm__container_fluid+' [type="checkbox"], '+$v__fm__container_fluid+' [type="hidden"])').addClass("heighter-28"),setTimeout(function(){page.render.content.filter.clear()},10),$(o).on("click.fm",$v__fm__container_fluid+" .active .ui_checked_columns",function(e){var t=e.keyCode?e.keyCode:e.which;if(!check_selected_text()&&1===t){var a=$(e.target).parents("tr");if(!$(e.target).is(":checkbox")&&!$(e.target).is(".lawobject")){var _=$($v__fm__container_fluid+" #path").val();return goup=a.hasClass("directory_go_up"),link=a.find('td a[href*="index.cgi?path="]').attr("href"),link_escaped=a.find("td a[data-filemin-link]").attr("data-filemin-link"),download=a.find('td a[href*="download.cgi?"]').attr("href"),td_tag=$(e.target).is("td"),goup&&__f___b_dr(e),download&&!td_tag?(e.preventDefault(),void window.location.replace(v___location_prefix+"/"+v___module_file_manager+"/"+download)):(e.preventDefault(),link?void __f___o_dr($(this),_,link_escaped,void 0!==e.originalEvent):td_tag?void $(e.target).parents("tr").find('td.ui_checked_checkbox input[type="checkbox"]').trigger("click"):void 0)}}}),$(o).on("keydown.fm",function(e){var t=e.keyCode?e.keyCode:e.which;if(!($("aside input").is(":focus")||plugins.shell.status()||$("input.popover-path-input").is(":focus")||$($v__fm__container_fluid+" input.dataTable-mirror").is(":focus")&&13!=t&&40!=t||$($v__fm__container_fluid+' textarea[name="bookmarks"]').is(":focus")||$(".bootbox.modal").length)){if($("#__f__c__m").is(":visible")&&27==t)return void $("#__f__c__m").css("display","none");if(!$("#__f__c__m").is(":visible")){var a=$(":focus").is(".jsPanel")||$(":focus").parents(".jsPanel").is(".jsPanel")||$(".modal.in").length?0:1,_=$(".cke_dialog_background_cover:visible").length||$(".tree-view-filter input").is(":focus");if(!($($v__fm__container_fluid+" input.popover-path-input").is(":focus")||$(".popover:visible").length||_)&&a||(13==t||e.ctrlKey||e.shiftKey)&&!_){if(a){if(32==t&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").find("a").find("i").trigger("click"):$("#file-manager-new-instance:not(.disabled_no_styling)").trigger("click")),(37==t||39==t)&&e.ctrlKey)return e.preventDefault(),e.stopPropagation(),void(37==t?$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").prev("li").find("a").trigger("click"):$($v__fm__container_fluid+" .nav.nav-tabs").find("li.active").next("li").find("a").trigger("click"));if((49==t||50==t||51==t||52==t||53==t||54==t||55==t||56==t||57==t)&&e.ctrlKey){var n=t-48;return e.preventDefault(),e.stopPropagation(),void $.each($($v__fm__container_fluid+" .nav.nav-tabs").find("li"),function(e,t){if(e+1==n)return void $(this).find("a").trigger("click")})}}if((120==t||121==t)&&!e.ctrlKey&&!e.shiftKey&&a){if(120==t)return void $($v__fm__container_fluid+' a[onclick="downFromUrlDialog()"]').trigger("click");if(121==t)return void $($v__fm__container_fluid+' a[onclick="viewReadyForUpload()"]').trigger("click")}if(!$($v__fm__container_fluid+" input.popover-path-input").is(":focus")&&"l"==String.fromCharCode(t).toLowerCase()&&e.ctrlKey&&a){e.preventDefault(),e.stopPropagation();var r=$($v__fm__container_fluid+' #headln2r > div.btn-group > a[href^="config.cgi"]');return void(Test.scrolledIntoView(r)?$('[data-toggle="popover-path"]').popover("show"):r.scrollIntoView({duration:200,direction:"vertical",complete:function(){setTimeout(function(){$($v__fm__container_fluid+' [data-toggle="popover-path"]').popover("show")},100)}}))}if(93==t&&a)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").length||$($v__fm__container_fluid_form+" table tbody tr:first-child:not(.directory_go_up)").addClass("m-active"),void $($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("contextmenu");if(!$(":focus").parents(".jsPanel").is(".jsPanel"))if(13!=t||1!==$($v__fm__container_fluid_form+" table tbody tr.m-active").length||$(".modal.in").length){if($($v__fm__container_fluid_modal_in).length||!e.ctrlKey||"c"!=String.fromCharCode(t).toLowerCase()&&"v"!=String.fromCharCode(t).toLowerCase()&&"x"!=String.fromCharCode(t).toLowerCase()||0!==$($v__fm__container_fluid_form+" table tbody tr td:first-child").find("input:checked").length||1!==$($v__fm__container_fluid_form+" table tbody tr.m-active").length||!e.ctrlKey||"c"!=String.fromCharCode(t).toLowerCase()&&"v"!=String.fromCharCode(t).toLowerCase()&&"x"!=String.fromCharCode(t).toLowerCase()||$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),13==t&&$($v__fm__container_fluid_modal_in).length&&(e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_delete_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_delete_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-chmod").length?$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-chmod").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_folder_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_folder_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_file_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_create_file_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-compress").length?$($v__fm__container_fluid_modal_in+" .modal-footer button.o__f_m-submitter-compress").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_rename_submit").length?$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_rename_submit").trigger("click"):$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_search_submit").length&&$($v__fm__container_fluid_modal_in+" .modal-footer button._at_filemanager_search_submit").trigger("click")),13==t&&1===$($v__fm__container_fluid_form+" table tbody tr:not(.directory_go_up)").length&&!_&&a){var l=$($v__fm__container_fluid+' .active form table tbody tr td a[href*="index.cgi?path="]'),s=$($v__fm__container_fluid+" #path").val();return link_escaped=l.last().attr("data-filemin-link"),void __f___o_dr(l,s,link_escaped)}if(13!=t&&(32!=t||e.shiftKey||$($v__fm__container_fluid_form+" table tbody tr.m-active").length)){if((46==t||113==t||114==t||115==t||116==t||117==t||119==t)&&!__f__cnt___selected()&&!$($v__fm__container_fluid+" .ui_checked_columns input:checked").length&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input").is(":focus")&&!$($v__fm__container_fluid_form+" table tbody tr.m-active").length&&(!e.shiftKey||116==t&&e.shiftKey||115==t&&!e.shiftKey)){if(e.preventDefault(),e.stopPropagation(),quirks.active_element()&&$(quirks.active_element()).is('a[href^="edit_file.cgi"]'))return;return void plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_nothing_is_selected"),.75,"warning","noSelection_warning")}var d=$($v__fm__container_fluid_form+" table tbody tr.m-active"),f=d.index(),c=d.index();if(!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||$("#__f__c__m").is(":visible"))){if(33!=t&&34!=t&&$($v__fm__container_fluid_form+" table tbody tr.m-active").length&&(e.preventDefault(),e.stopPropagation(),d.removeClass("m-active")),"undefined"!=typeof ___contextmenu__triggered___)return;38!=t||$($v__fm__container_fluid_modal_in).length||($($v__fm__container_fluid+" .dataTable-mirror").is(":focus")&&(d.removeClass("m-active"),$.each($($v__fm__container_fluid+" input"),function(){$(this).blur()})),c--,$($v__fm__container_fluid+" .dataTables_filter label input").blur(),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active")),40!=t||$($v__fm__container_fluid_modal_in).length||($($v__fm__container_fluid+" .dataTable-mirror").is(":focus")&&(d.removeClass("m-active"),$.each($($v__fm__container_fluid+" input"),function(){$(this).blur()})),c++,$($v__fm__container_fluid+" .dataTables_filter label input").blur(),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active"))}38!=t&&40!=t&&32!=t&&13!=t&&46!=t&&119!=t&&117!=t&&115!=t&&116!=t&&113!=t&&114!=t||$(".modal.in").length||(d=!$($v__fm__container_fluid_form+" table tbody tr").find(".dataTables_empty").length&&$($v__fm__container_fluid_form+" table tbody tr").eq(c).addClass("m-active m-not-active"));var m=$($v__fm__container_fluid_form+" table tbody tr.m-active");if($v__fm__global_last_row=m,27==t)return e.preventDefault(),e.stopPropagation(),void $($v__fm__container_fluid_modal_in+' button[data-dismiss="modal"]').trigger("click");if(33==t&&!$("input").is(":focus")&&!$(".modal.in").length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(f-5).addClass("m-active m-not-active"));if(34==t&&!$("input").is(":focus")&&!$(".modal.in").length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(f+5).addClass("m-active m-not-active"));if(35==t&&!$("input").is(":focus")&&!$(".modal.in").length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(parseInt($($v__fm__container_fluid_form+" table tbody tr").length)-1).addClass("m-active m-not-active"));if(36==t&&!$("input").is(":focus")&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void(d=$($v__fm__container_fluid_form+" table tbody tr").eq(0).addClass("m-active m-not-active"));if(13==t&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .dataTables_filter label input").blur(),void $($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child").trigger("click");if(!(8!=t||$($v__fm__container_fluid+" .o__f_m-main-spinner").is(":visible")||$($v__fm__container_fluid+" input").is(":focus")||$($v__fm__container_fluid+" textarea").is(":focus")||$($v__fm__container_fluid_modal_in).length))return e.preventDefault(),e.stopPropagation(),void __f___b_dr(e);if("m"==String.fromCharCode(t).toLowerCase()&&e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void $("#file-manager-switch-user").trigger("click");if(32==t&&!e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length){e.preventDefault(),e.stopPropagation();var u=$($v__fm__container_fluid_form+" table tbody:visible tr.m-active"),p=jQuery.Event("keydown");p.which=40;var g=u.find("td:first-child input"),h=g.is(":checked");return g[0].checked=!h,g.trigger("change"),$(o).trigger(p),void(config_portable_module_filemanager_calculate_size&&setTimeout(__f__get_fs,100))}if((106==t||e.shiftKey&&56==t)&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void $('body .container-fluid button[onclick="invertSelection()"]').trigger("click");if((107==t||e.shiftKey&&187==t)&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),void $('body .container-fluid button[onclick="selectAll()"]').trigger("click");if((109==t||e.shiftKey&&189==t)&&!$($v__fm__container_fluid_modal_in).length){e.preventDefault(),e.stopPropagation();var v=document.querySelectorAll(".container-fluid .ui_checked_columns");for(i=0;i<v.length;i++){var b=v[i].getElementsByTagName("input")[0];b.checked&&rowClick(v[i])}return __f___lb(),void __r____changed()}if(!(46!=t&&119!=t||$($v__fm__container_fluid+" input").is(":focus")||$($v__fm__container_fluid_modal_in).length))return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-delete.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-delete").trigger("click"),void __f___cs();if(113!=t||e.shiftKey){if(113===t&&e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chattr.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chattr a").trigger("click"),void __f___cs()}else if(!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chmod.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chmod a").trigger("click"),void __f___cs();if(114!=t||e.shiftKey){if(114===t&&e.shiftKey&&"1"==v___server_sestatus&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chcon.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chcon a").trigger("click"),void __f___cs()}else $($v__fm__container_fluid_modal_in).length||(e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-chown.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-chown a").trigger("click"),__f___cs());if(116==t&&!e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+" .o__f_m-button-compress.disabled").length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td:first-child input").trigger("click"),$("body .container-fluid .o__f_m-button-compress a").trigger("click"),void __f___cs();if(118==t&&!e.shiftKey&&!e.ctrlKey&&!$($v__fm__container_fluid_modal_in).length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "createFolderDialog()"]').trigger("click"),void __f___cs();if(117==t&&!$($v__fm__container_fluid_modal_in).length&&$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-i-cursor").parent("a").length)return e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-i-cursor").parent("a").trigger("click"),void __f___cs();if(115==t&&!e.shiftKey&&!$($v__fm__container_fluid_modal_in).length)return void($($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-pencil-square-o").parent("a").length?(e.preventDefault(),edit_file()):plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_not_editable"),.75,"warning","notEditableTarget"));if(!($("input").is(":focus")||$("select").is(":focus")||$("textarea").is(":focus")||$(".modal.in").length||32==t||113==t||114==t||106==t||107==t||116==t||109==t||46==t||119==t||118==t||115==t)){if($($v__fm__container_fluid+" .tab-pane.active .paginate_button.next").parents("ul.pagination").hasClass("pointer-events-none"))return;if(39===t)return $($v__fm__container_fluid+" .tab-pane.active .paginate_button.next").trigger("click"),$($v__fm__container_fluid_form+" table tbody tr.m-active").removeClass("m-active"),void $($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active");if(37===t)$($v__fm__container_fluid+" .tab-pane.active .paginate_button.previous").trigger("click"),$($v__fm__container_fluid_form+" table tbody tr.m-active").removeClass("m-active"),$($v__fm__container_fluid_form+" table tbody tr").addClass("m-not-active");else{var x=String.fromCharCode(t);!x||!/[a-zA-Z0-9]/.test(x)||e.ctrlKey||e.altKey||e.metaKey||$($v__fm__container_fluid+" .dataTables_filter label input").trigger("keyup").focus()}}if("s"==String.fromCharCode(t).toLowerCase()&&e.ctrlKey)return e.preventDefault(),e.stopPropagation(),void(__f__cnt___selected()&&__f__get_fs());if(e.shiftKey&&e.ctrlKey)return void console.log();if($($v__fm__container_fluid_modal_in).length||$($v__fm__container_fluid+" .popover").is(":visible")||$($v__fm__container_fluid+" input.popover-path-input").is(":focus")||$($v__fm__container_fluid+" .btn-filter-top-right input").is(":focus")||115!=t&&116!=t&&118!=t&&"c"!=String.fromCharCode(t).toLowerCase()&&"v"!=String.fromCharCode(t).toLowerCase()&&"x"!=String.fromCharCode(t).toLowerCase());else{if(!("c"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||"v"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||"x"==String.fromCharCode(e.which).toLowerCase()&&e.ctrlKey||115==t&&e.shiftKey||116==t&&e.shiftKey||118==t&&e.shiftKey||19==e.which))return!0;if(e.preventDefault(),115==t&&!$($v__fm__container_fluid_modal_in).length)return e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "createFileDialog()"]').trigger("click"),void __f___cs();if(116==t&&!$($v__fm__container_fluid_modal_in).length){if(e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-extract-archive").parent("a").length){var w=$($v__fm__container_fluid_form+" table tbody tr.m-active").find("td.ui_checked_checkbox input");!w.is(":checked")&&w.trigger("click"),e.preventDefault(),e.stopPropagation(),$($v__fm__container_fluid_form+" table tbody tr.m-active").find("i.fa-extract-archive").parent("a")[0].click(),__f___cs()}else plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-circle"></i>'+theme_language("theme_xhred_filemanager_not_decompressable"),.75,"warning","notDecompressableTarget");return}if(118==t&&!$($v__fm__container_fluid_modal_in).length)return e.stopPropagation(),$($v__fm__container_fluid+' a[onclick = "searchDialog()"]').trigger("click"),void __f___cs();if("c"==String.fromCharCode(t).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$(".popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-copy.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_no_selection_to_copy"),.75,"warning","nothingSelected"):($("body .container-fluid .o__f_m-button-copy a").trigger("click"),__f___cs()));if("v"==String.fromCharCode(t).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-paste.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-clipboard"></i>'+theme_language("theme_xhred_filemanager_empty_clipboard"),.75,"warning","emptyClipboard"):($("body .container-fluid .o__f_m-button-paste a").trigger("click"),__f___cs()));if("x"==String.fromCharCode(t).toLowerCase()&&!$($v__fm__container_fluid_modal_in).length&&!$($v__fm__container_fluid+" .popover").is(":visible")&&!$($v__fm__container_fluid+" input.popover-path-input").is(":focus"))return e.stopPropagation(),void($($v__fm__container_fluid+" .o__f_m-button-cut.disabled").length?plugins.messenger.post('<i class="fa fa-lg fa-fw fa-exclamation-triangle"></i>'+theme_language("theme_xhred_filemanager_no_selection_to_cut"),.75,"warning","nothingSelected"):($("body .container-fluid .o__f_m-button-cut a").trigger("click"),__f___cs()))}}}else if($($v__fm__container_fluid_form+" table tbody tr.m-active").hasClass("directory_go_up"))__f___b_dr(e);else{var l=$($v__fm__container_fluid+' .active form table tbody tr.m-active td a[href*="index.cgi?path="]'),s=$($v__fm__container_fluid+" #path").val();link_escaped=l.last().attr("data-filemin-link"),__f___o_dr(l,s,link_escaped,void 0!==e.originalEvent)}}}}}).on("click.fm",$v__fm__container_fluid+" a.action-link > .fa",function(e){if(e.preventDefault(),$(this).hasClass("fa-extract-archive")){var t=$(this).parents("tr").find("td.ui_checked_checkbox input");!t.is(":checked")&&t.trigger("click")}else $(this).hasClass("fa-i-cursor")&&e.stopPropagation()}).on("click.fm",$v__fm__container_fluid+" #file-manager-switch-user:not(.disabled_no_styling)",function(e){var t=$(this);t.addClass("disabled_no_styling"),$.ajax({type:"POST",url:v___server_extensions_path+"/file-manager/fetcher.cgi?module="+v___module+"&list_users=1",data:!1,dataType:"JSON",success:function(e){if(Test.strContains(e,v___page_signin_form))return void(v___available_session=0);var a=localStorage.getItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode"),_='<option value="" class="text-success"'+(a&&""!=a?"":" selected")+"><em>"+v___server_username+"</em></option>";$.each(e,function(e,t){_+='<option value="'+e+'"'+(a==e?" selected":"")+">"+e+'<span class="text-danger"> ['+t.split(":")[0]+"]</span></option>"});var n=$(o),i='    \t\t<div class="modal fade9 modal-list-users" tabindex="-1" role="dialog">    \t\t  <div class="modal-dialog modal-md">    \t\t    <div class="modal-content">    \t\t      <div class="modal-header background-warning background--bordered">    \t\t        <button type="button" class="close" data-dismiss="modal" aria-label="'+theme_language("theme_xhred_global_close")+'"><span aria-hidden="true">&times;</span></button>    \t\t        <h4 class="modal-title"><i class="fa fa-fw fa-user-switch">&nbsp;&nbsp;</i> '+theme_language("theme_xhred_filemanager_user_switch").replace(/\(.*?\)/g,"").replace(/\s+$/,"")+'</h4>    \t\t      </div>    \t\t      <div class="modal-body">    \t\t        <p>'+theme_language("theme_xhred_filemanager_user_switch_description")+'</p>                <label class="select-styled fstreched"><select data-no-appearance>                  '+_+"                </select></label>                <hr>                <p>"+theme_language("theme_xhred_filemanager_user_switch_description_back")+"</p>    \t\t      </div>    \t\t    </div>    \t\t  </div>    \t\t</div>    \t";n.append(i);var r=".modal-list-users";$("body "+r).on("show.bs.modal",function(){$("body "+r).find("select").on("change.fm",function(){var e=$(this).val();localStorage.setItem(v___server_hostname+"-settings_thirdparty_filemanager_usermode",e),0==config_portable_module_filemanager_switch_user&&__f___us_tl(),$("body "+r).modal("hide")})}),$("body "+r).on("shown.bs.modal",function(){setTimeout(function(){$("body "+r).focus(),$("body "+r).find("select").trigger("focus")},360)}),$("body "+r).on("hidden.bs.modal",function(){$(this).remove(),t.removeClass("disabled_no_styling")}),$("body "+r).modal("show")},error:function(e){}})}).on("click.fm",$v__fm__container_fluid+" [data-tree-toggle]",function(e){$(".row + .tree-view, .data-content-container > [data-tree-view], .data-content-container > [data-tree-view] + .tree-view-filter").toggleClass("hidden"),theme_config("save",!1,"config_portable_module_filemanager_hide_tree_view",!config_portable_module_filemanager_hide_tree_view),_f__table().DataTable().draw(),!config_portable_module_filemanager_hide_tree_view&&($____loader_block__manual=1,$($v__fm__container_fluid+" button > ."+$__f__rf_s).parent("button").trigger("click"),tree_view_get(),$____loader_block__manual=0),tree_resize()
}).on("click.fm",$v__fm__container_fluid+" #file-manager-new-instance:not(.disabled_no_styling)",function(e){e.preventDefault(),__f___nt($($v__fm__container_fluid+" #path").val(),!0)}).on("click.fm",$v__fm__container_fluid+" .nav.nav-tabs li.ui-sortable-handle.disabled",function(e){return e.preventDefault,e.stopPropagation,!1}).on("mouseenter.fm mousemove.fm",$v__fm__container_fluid+" .nav.nav-tabs li",function(){$(this).find("a > i").removeClass("invisible")}).on("mouseleave.fm",$v__fm__container_fluid+" .nav.nav-tabs li",function(){$(this).find("a > i").addClass("invisible")}).on("mousemove.fm",'[data-context-copy="1"], [data-context-select-all="1"]',function(e){var t=$(this).parent(),a=$("#__f__c__m").offset().left,_=t.width();parseInt(e.pageX-a-_)>-24?(t.removeClass("locked"),this.allowed=!t.hasClass("right")):(void 0===this.allowed||this.allowed)&&t.addClass("locked")}).on("mouseleave.fm",'[data-context-copy="1"], [data-context-select-all="1"]',function(){this.allowed="undefined"}).on("contextmenu.fm",$v__fm__container_fluid+" .directory_go_up:visible",function(){$(this).addClass("m-active").trigger("contextmenu")}).on("click.fm",$v__fm__container_fluid+" .nav.nav-tabs li:not(.disabled) i",function(e){if(e.preventDefault,!($($v__fm__container_fluid+" .nav.nav-tabs li:not(.ui-sortable-placeholder)").length<=1)){var t=$(this),a=t.parent("a").parent("li"),_=parseInt(t.parent("a").attr("href").replace(/^\D+/g,""));return a.hasClass("active")?(tab___to______delete=_,t.parent("a").parent("li").prev("li:not(.active)").length?t.parent("a").parent("li").prev("li:not(.active)").find("a").trigger("click"):t.parent("a").parent("li").next("li:not(.active)").length&&t.parent("a").parent("li").next("li:not(.active)").find("a").trigger("click")):($($v__fm__container_fluid+' a[href="#tab-'+_+'"]').parent("li").remove(),$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+_+'"]').remove(),__f___up__tb_vis(),__f___up__tb_store(),setTimeout(function(){"function"==typeof sortable&&sortable($($v__fm__container_fluid+" .tabs-top > ul.nav"))},100)),!1}});var d=$v__fm__container_fluid+' a[data-toggle="tab"]';$(o).on("hide.bs.tab",d,function(e){var t=$(e.target).attr("href").replace(/^\D+/g,"");$($v__fm__container_fluid+" .__o__f_m-search-results").length&&$($v__fm__container_fluid+' .tab-content .tab-pane[id="tab-'+t+'"]').data("searchQuery",$($v__fm__container_fluid+" .__o__f_m-search-results")).data("searchQueryTotal",$(".total").html())}).on("show.bs.tab",d,function(e){$($v__fm__container_fluid+" .nav.nav-tabs li").addClass("disabled")}).on("shown.bs.tab",d,function(e){tree_resize(),setTimeout(function(){$($v__fm__container_fluid+" .nav.nav-tabs li").removeClass("disabled")},400);var t=$(e.target).attr("href"),a=t.replace(/^\D+/g,""),_=$(e.relatedTarget).attr("href"),n=_.replace(/^\D+/g,""),i="_AuthenticThemeTmp"+n;store_last_tab($(e.target)),$(_).find("form").attr({id:"list_form"+i,name:"list_form"+i}),$(_).find(".ui_checked_columns").removeClass("ui_checked_columns").addClass("_ui_checked_columns_tmp"),$.each($(_).find("form *[id]"),function(){var e=$(this).attr("id"),t=$(this).attr("name"),a=e+i,_=!!t&&t+i;e.indexOf("DataTable")===-1&&($(this).attr({id:a}),t&&$(this).attr({name:_}))}).promise().done(function(){var _="_AuthenticThemeTmp"+a;$(t).find("._ui_checked_columns_tmp").addClass("ui_checked_columns").removeClass("_ui_checked_columns_tmp"),$(t).find("form").attr({id:"list_form",name:"list_form"}),$.each($(t).find("form *[id]"),function(){var e=$(this).attr("id"),t=$(this).attr("name"),a=e.replace(_,""),n=!!t&&t.replace(_,"");e.indexOf(_)>-1&&($(this).attr({id:a}),t&&$(this).attr({name:n}))}).promise().done(function(){var _=$('.tab-content .tab-pane[id="tab-'+a+'"] .table:visible'),n=$(t).find("form input#path").val();if(f__insert_dir_up(),__f__c__m(),"1"==$(e.target).attr("newly-created"))$(e.target).removeAttr("newly-created");else{var i=$('.tab-content .tab-pane[id="tab-'+a+'"]').data("searchQuery"),o=$('.tab-content .tab-pane[id="tab-'+a+'"]').data("searchQueryTotal"),r=[];i&&(r.push(i),r.push(o),$('.tab-content .tab-pane[id="tab-'+a+'"]').removeData("searchQuery").removeData("searchQueryTotal")),__f___up__d("index.cgi?path="+Convert.uriEncodeComponent(n),!1,r)}!i&&$(".total").html($(".tab-pane.active").data("totalValue"));var l=_f__table();if("undefined"!=typeof tab___is______new?(l.DataTable().draw(),delete tab___is______new):__init__dt_ck__e(),"undefined"!=typeof tab___to______delete){var s=tab___to______delete;delete tab___to______delete,$('a[href="#tab-'+s+'"]').parent("li").remove(),$('.tab-content .tab-pane[id="tab-'+s+'"]').remove()}__f___us_a(),tree_view_draw(_),tree_gset_node()})})}),$($v__fm__container_fluid+" #searchForm label:first-child").text(theme_language("theme_xhred_filemanager_search_query")),$($v__fm__container_fluid+" #searchForm .form-group").after('\t\t<div class="form-inline">\t\t\t<div class="form-group">\t\t\t\t<label>'+theme_language("theme_xhred_filemanager_search_match")+'</label>\t\t\t\t<br>\t\t\t\t<input id="grepstring" name="grepstring" type="text" class="form-control heighter-28">\t\t\t</div>\t\t\t<div class="form-group"">\t\t\t\t<label>'+theme_language("theme_xhred_filemanager_search_replace")+'</label>\t\t\t\t<br>\t\t\t\t<input id="grepreplace" name="grepreplace" type="text" class="form-control heighter-28">\t\t\t</div>\t\t</div>\t');var v=$("#searchForm").find("span.awcheckbox");v.prev("br").remove(),v.detach().appendTo($("#searchForm .form-inline")),$($v__fm__container_fluid+' #searchDialog input[name="query"]').val("*"),plugins.navigation.detect("/filemin/index.cgi?path=/",1),setTimeout(function(){$($v__fm__container_fluid+" ."+$__f__rf_s).trigger("click"),$____loader_block__=0},$.support.spa?100:1200),"config.cgi"!==v___location_file&&$.support.spa&&f__chk_loading()}setTimeout(function(){!$.support.spa&&___f__tw(),$(window).off("resize.fm"),$(window).on("resize.fm",function(e){"config.cgi"!==v___location_file&&v___module===v___module_file_manager&&(_f__table().DataTable().draw(),tree_resize())})},$.support.spa?0:200),$.each(localStorage,function(e,t){/^(DataTables_DataTables_Table_[\d]*_\/file)/.test(e)&&localStorage.removeItem(e)});